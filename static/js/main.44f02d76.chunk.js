(this["webpackJsonputm-timetable-generator-v2"]=this["webpackJsonputm-timetable-generator-v2"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),i=n(45),r=n.n(i),c=n(24),s=n(16),l=n(9),u=n(0);var d=function(){var e=Object(l.c)((function(e){return e.balloon})),t=e.shownCount,n=e.type,a=e.message;return Object(u.jsx)("div",{className:"balloon ".concat(n," ").concat(t?"shown":""),children:a})};var m=function(){var e=Object(l.c)((function(e){return e.blindfold_showing}));return Object(u.jsx)("div",{className:"blindfold ".concat(e?"shown":"")})},f=n(14);var b=function(){var e=Object(l.c)((function(e){return e.loadingScreen_showing})),t=Object(a.useState)(["Loading..."]),n=Object(f.a)(t,2),o=n[0],i=n[1],r=Math.floor(Math.random()*o.length);return Object(a.useEffect)((function(){fetch("./data/loading-quotes.json").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){console.error("Failed to fetch loading screen quotes from ./data/loading-quotes.json")}))}),[]),Object(u.jsxs)("div",{className:"loadScreen ".concat(e?"shown":""),children:[Object(u.jsx)("h4",{className:"loadScreen__title",children:"Loading \u231b\ufe0f"}),Object(u.jsxs)("p",{className:"loadScreen__quote",children:[" ",o[r]," "]}),Object(u.jsx)("i",{className:"fab fa-github-alt loadScreen__logo"})]})};var h=function(){return Object(u.jsxs)("header",{className:"header container-padded",children:[Object(u.jsx)("img",{className:"header__logo",alt:"Logo Universiti Tekonologi Malaysia",src:"./img/utm_logo.png"}),Object(u.jsx)("h1",{className:"header__title",children:"UTM Timetable Generator V2"}),Object(u.jsx)(c.b,{role:"button",title:"Announcements",to:"/",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-bullhorn"})}),Object(u.jsx)(c.b,{role:"button",title:"View Tutorial",to:"/tutorial",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-question"})})]})};var j=function(){var e=Object(s.f)().pathname;return Object(u.jsxs)("nav",{className:"nav container",children:[Object(u.jsx)(c.b,{className:"nav-link","data-selected":"/courses"===e,to:"/courses",children:"Courses \ud83d\udcda"}),Object(u.jsx)(c.b,{className:"nav-link","data-selected":"/setup"===e,to:"/setup",children:"Setup \ud83d\udd28"}),Object(u.jsx)(c.b,{className:"nav-link","data-selected":"/generate"===e,to:"/generate",children:"Generate \ud83c\udfed"})]})};var g=function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsxs)("a",{"aria-label":"Link to github account",href:"https://github.com/AdmiJW/UTM-Timetable-Generator-V2/issues",target:"_blank",rel:"noreferrer noopener",className:"footer__card",children:[Object(u.jsx)("p",{className:"footer__card__text",children:"Support"}),Object(u.jsx)("i",{className:"fab fa-github-alt footer__card__logo"})]}),Object(u.jsx)("p",{className:"footer__desc",children:"An open source project"})]})},p=n(11),O=n(17),x=Object(O.b)("cart/removeCourseFromCart",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),1e3)}))})),v=Object(O.c)({name:"cart",initialState:{meta:{nextID:0,isWindowOpen:!1}},reducers:{addCourseToCart:function(e,t){e[e.meta.nextID++]=Object.assign({isAnimatingDelete:!1},t.payload)},openCart:function(e){e.meta.isWindowOpen=!0},closeCart:function(e){e.meta.isWindowOpen=!1}},extraReducers:function(e){e.addCase(x.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(x.fulfilled,(function(e,t){delete e[t.payload]}))}}),_=Object(p.a)(Object(p.a)({},v.actions),{},{removeCourseFromCart:x}),C=v.reducer,N=Object(O.c)({name:"blindfold_showing",initialState:!1,reducers:{showBlindfold:function(){return!0},hideBlindfold:function(){return!1}}}),y=N.actions,S=y.showBlindfold,w=y.hideBlindfold,k=N.reducer,T=Object(O.b)("balloon/showBalloon",(function(e,t){return new Promise((function(e){return window.setTimeout(e,5e3)}))})),F=Object(O.c)({name:"balloon",initialState:{shownCount:0,type:"primary",message:""},reducers:{setTypeAndMessage:function(e,t){var n=t.payload,a=n.type,o=n.message;e.type=a,e.message=o}},extraReducers:function(e){e.addCase(T.pending,(function(e){++e.shownCount})),e.addCase(T.fulfilled,(function(e){--e.shownCount})),e.addCase(T.rejected,(function(e,t){return console.log(t)}))}}),M=F.actions.setTypeAndMessage,G=F.reducer,D=n(43),W=n.n(D),z=n(64),A=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],P=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?A[e]:P[e]}function I(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"".concat(e.padStart(2,"0"),":00");var n=e%12,a=e/12;return"".concat(0===n?"12":n," ").concat(a>=1?":00PM":":00AM")}function L(e){return e<7?"-":"".concat(e-6).padStart(2,"0")}var R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".main--scrollable-wrapper");window.setTimeout((function(){if(e){var n=document.querySelector(e);t.scrollTop=n.offsetTop}else t.scrollTop=t.scrollHeight}),100)},B="setupCourses",H=function(e){return{id:e,courseName:"Course Name Here",lecturerName:"Lecturer Name Here",courseCode:"Course Code Here",isAnimatingDelete:!1,timeslots:{nextID:0}}},J=function(e){return{id:e,dayOfWeek:0,startTime:8,endTime:9,isAnimatingDelete:!1}};var U=Object(O.b)(B+"/deleteCourse",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),q=Object(O.b)(B+"/deleteTimeslot",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),V=Object(O.b)(B+"/saveCoursesToLocalStorage",function(){var e=Object(z.a)(W.a.mark((function e(t,n){return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.localStorage.setItem("app-version","1.0.0"),window.localStorage.setItem("saved-state",JSON.stringify(n.getState().setupCourses)),n.dispatch(M({type:"success",message:"Successfully saved courses into local storage!"})),n.dispatch(T())}catch(t){n.dispatch(M({type:"danger",message:"Failed to save courses into local storage. See console for more info!"})),n.dispatch(T()),console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Q=Object(O.b)(B+"/loadCoursesFromLocalStorage",function(){var e=Object(z.a)(W.a.mark((function e(t,n){var a;return W.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.localStorage.getItem("saved-state")){e.next=3;break}throw new Error("not-found");case 3:return"1.0.0"!==window.localStorage.getItem("app-version")&&console.warn("The saved data in local storage has different application version number than the current application version"),a=JSON.parse(localStorage.getItem("saved-state")),n.dispatch(M({type:"success",message:"Successfully loaded courses from local storage!"})),n.dispatch(T()),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),"not-found"===e.t0.message?(n.dispatch(M({type:"warning",message:"No previous save data found in local storage."})),n.dispatch(T())):(n.dispatch(M({type:"danger",message:"Failed to load courses from local storage. See console for more info!"})),n.dispatch(T()),console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),Y={addBlankCourse:function(e){var t=e.nextID++;e[t]=H(t),R()},addCourseFromCart:function(e,t){var n=t.payload,a=e.nextID++,o=function(e,t){var n=H(t);for(var a in n.courseName=e.name,n.lecturerName=e.lecturer,n.courseCode=e.code+" - Section "+e.section,e.times){var o=e.times[a],i=n.timeslots.nextID++,r=J(i);r.dayOfWeek=o.dayOfWeek,r.startTime=o.beginTime,r.endTime=o.endTime,n.timeslots[i]=r}return n}(n,a);e[a]=o},changeCourseName:function(e,t){var n=t.payload,a=n.id,o=n.newCourseName;e[a].courseName=o},changeLecturerName:function(e,t){var n=t.payload,a=n.id,o=n.newLecturerName;e[a].lecturerName=o},changeCourseCode:function(e,t){var n=t.payload,a=n.id,o=n.newCourseCode;e[a].courseCode=o},addTimeslot:function(e,t){var n=t.payload,a=e[n].timeslots.nextID++;e[n].timeslots[a]=J(a)},changeTimeslotDayOfWeek:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.dayOfWeek;e[a].timeslots[o].dayOfWeek=Number(i)},changeTimeslotStartTime:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.startTime;e[a].timeslots[o].startTime=Number(i),e[a].timeslots[o].endTime=Math.max(Number(i)+1,e[a].timeslots[o].endTime)},changeTimeslotEndTime:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.endTime;e[a].timeslots[o].endTime=Number(i)}},K=Object(O.c)({name:"setupCourses",initialState:{nextID:0},reducers:Y,extraReducers:function(e){e.addCase(U.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(U.fulfilled,(function(e,t){delete e[t.payload]})),e.addCase(q.pending,(function(e,t){var n=t.meta.arg,a=n.courseID,o=n.timeslotID;e[a].timeslots[o].isAnimatingDelete=!0})),e.addCase(q.fulfilled,(function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID;delete e[a].timeslots[o]})),e.addCase(Q.fulfilled,(function(e,t){return t.payload}))}}),X=Object(p.a)(Object(p.a)({},K.actions),{},{deleteCourse:U,deleteTimeslot:q,saveCoursesToLocalStorage:V,loadCoursesFromLocalStorage:Q}),Z=K.reducer;var $=function(e){var t=e.name,n=e.code,a=e.section,o=Object(l.b)(),i=[];for(var r in a.times){var c=a.times[r];i.push(Object(u.jsxs)("li",{className:"carttime",children:["\ud83d\udc49 ",Object(u.jsx)("strong",{children:E(c.dayOfWeek,!1)})," From ",Object(u.jsx)("strong",{children:I(c.beginTime)})," To ",Object(u.jsx)("strong",{children:I(c.endTime)})]},r))}return Object(u.jsxs)("li",{className:"cartsection",children:[Object(u.jsxs)("div",{className:"cartsection--meta",children:[Object(u.jsxs)("p",{className:"cartsection--section",children:["Sec ",a.section]}),Object(u.jsx)("p",{className:"cartsection--lecturer",children:a.lecturer}),Object(u.jsx)("button",{type:"button",className:"cartsection--enroll","aria-label":"Select this section of course",title:"Select this section",onClick:function(){return function(e,t,n,a){var o={name:t,code:n,section:a.section,lecturer:a.lecturer,times:a.times};e(X.addCourseFromCart(o)),e(M({type:"success",message:"Added ".concat(n," - Section ").concat(a.section," to Setup page!")})),e(T())}(o,t,n,a)},children:"Enroll"})]}),Object(u.jsx)("ol",{className:"cartsection--times",children:i})]})};function ee(e){var t=e.id,n=e.course,a=Object(l.b)(),o=[];for(var i in n.sections){var r=n.sections[i];o.push(Object(u.jsx)($,{name:n.name,code:n.code,section:r},i))}return Object(u.jsxs)("li",{className:"cartcourse ".concat(n.isAnimatingDelete?"removing":""),children:[Object(u.jsxs)("div",{className:"cartcourse--meta",children:[Object(u.jsx)("p",{className:"cartcourse--name",children:n.name}),Object(u.jsx)("p",{className:"cartcourse--code",children:n.code}),Object(u.jsx)("button",{type:"button",className:"cartcourse--delete","aria-label":"Remove this course from cart",title:"Remove this course from cart",onClick:function(){return a(_.removeCourseFromCart(t))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(u.jsx)("ul",{className:"cartcourse--sections",children:o})]})}var te=Object(a.memo)(ee);var ne=function(){var e=Object(l.c)((function(e){return e.cart})),t=e.meta.isWindowOpen,n=Object(l.b)();Object(a.useEffect)((function(){n((t?S:w)())}),[n,t]);var o=[];for(var i in e)isNaN(i)||o.push(Object(u.jsx)(te,{id:i,course:e[i]},i));return Object(u.jsxs)("div",{className:"cart ".concat(t?"show":""),children:[Object(u.jsx)("button",{type:"button","aria-label":"Close cart",title:"Close cart",className:"cart--close",onClick:function(){return n(_.closeCart())},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsx)("h4",{className:"cart--title",children:"Cart \ud83d\uded2"}),Object(u.jsx)("p",{className:"cart--desc",children:"Wait are we shopping or what?"}),Object(u.jsx)("ul",{className:"cart--list",children:o})]})},ae=n(53),oe=n(54),ie=Object(O.c)({name:"loadingScreen_showing",initialState:!1,reducers:{showLoadingScreen:function(){return!0},hideLoadingScreen:function(){return!1}}}),re=ie.actions,ce=re.showLoadingScreen,se=re.hideLoadingScreen,le=ie.reducer;var ue=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(l.b)();Object(a.useEffect)((function(){i(S()),i(ce()),fetch("./data/announcement.json").then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),i(M({type:"danger",message:"Error occurred while fetching announcements. See console for more info"})),i(T())})).finally((function(){i(w()),i(se())}))}),[i]);var r=n.map((function(e){return Object(u.jsxs)("article",{className:"announcement",children:[Object(u.jsx)("h4",{className:"annoucement--title",children:e.title}),Object(u.jsx)("p",{className:"announcement--date",children:e.date}),Object(u.jsx)(ae.a,{className:"announcement--content",children:e.content,rehypePlugins:[oe.a]})]},e.id)}));return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Announcements \ud83d\udce1"}),r]})})};function de(e){var t=Object(l.b)(),n=e.courseID,a=e.timeslot,o=a.id,i=a.dayOfWeek,r=a.startTime,c=a.endTime,s=a.isAnimatingDelete;return Object(u.jsxs)("li",{className:"setup__timeslotitem ".concat(s?"deleting":""),children:[Object(u.jsx)("button",{type:"button","aria-label":"Discard this timeslot",label:"Discard this timeslot",className:"setup__timeslotitem--discardbtn",onClick:function(){return t(X.deleteTimeslot({courseID:n,timeslotID:o}))},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsxs)("select",{className:"setup__timeslot--select setup__timeslot--dayOfWeek",value:i,onChange:function(e){return t(X.changeTimeslotDayOfWeek({courseID:n,timeslotID:o,dayOfWeek:e.target.value}))},children:[Object(u.jsx)("option",{value:"0",children:"Sunday"}),Object(u.jsx)("option",{value:"1",children:"Monday"}),Object(u.jsx)("option",{value:"2",children:"Tuesday"}),Object(u.jsx)("option",{value:"3",children:"Wednesday"}),Object(u.jsx)("option",{value:"4",children:"Thursday"}),Object(u.jsx)("option",{value:"5",children:"Friday"}),Object(u.jsx)("option",{value:"6",children:"Saturday"})]}),Object(u.jsxs)("div",{className:"setup__timeslot--timegrp",children:[Object(u.jsxs)("select",{className:"setup__timeslot--select setup__timeslot--startTime",value:r,onChange:function(e){return t(X.changeTimeslotStartTime({courseID:n,timeslotID:o,startTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"To",Object(u.jsxs)("select",{className:"setup__timeslot--select setup__timeslot--endTime",value:c,onChange:function(e){return t(X.changeTimeslotEndTime({courseID:n,timeslotID:o,endTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"9",disabled:r>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:r>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:r>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:r>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:r>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:r>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:r>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:r>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:r>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:r>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:r>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:r>19,children:"14 (8:00 PM)"})]})]})]})}var me=Object(a.memo)(de);function fe(e){var t=e.course,n=t.id,o=t.courseName,i=t.lecturerName,r=t.courseCode,c=t.timeslots,s=t.isAnimatingDelete,d=Object(l.b)(),m=Object(a.useRef)(),f=Object(a.useRef)(),b=Object(a.useRef)();Object(a.useEffect)((function(){m.current.innerText=o,f.current.innerText=i,b.current.innerText=r}),[]);var h=[];for(var j in c)if("nextID"!==j){var g=c[j];h.push(Object(u.jsx)(me,{courseID:n,timeslot:g},g.id))}return Object(u.jsxs)("li",{className:"setup__courseitem ".concat(s?"deleting":""),"data-nth":n%10,children:[Object(u.jsxs)("div",{className:"setup__courseitem--meta",children:[Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"setup__courseitem--input setup__courseitem--coursename",onInput:function(){return d(X.changeCourseName({id:n,newCourseName:m.current.innerText}))},ref:m,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"setup__courseitem--input setup__courseitem--lecturername",onInput:function(){return d(X.changeLecturerName({id:n,newLecturerName:f.current.innerText}))},ref:f,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"setup__courseitem--input setup__courseitem--coursecode",onInput:function(){return d(X.changeCourseCode({id:n,newCourseCode:b.current.innerText}))},ref:b,suppressContentEditableWarning:!0}),Object(u.jsxs)("div",{className:"setup__courseitem--btn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Add new time slot",title:"Add new time slot",className:"setup__courseitem--btn setup__courseitem--addtime",onClick:function(){return d(X.addTimeslot(n))},children:Object(u.jsx)("i",{className:"far fa-clock"})}),Object(u.jsx)("button",{type:"button","aria-label":"Discard course",title:"Discard course",className:"setup__courseitem--btn setup__courseitem--delcourse",onClick:function(){return d(X.deleteCourse(n))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]})]}),Object(u.jsx)("ul",{className:"setup__timeslots",children:h})]})}var be=Object(a.memo)(fe);var he=function(){var e=Object(l.c)((function(e){return e.setupCourses})),t=[];for(var n in e)if("nextID"!==n){var a=e[n];t.push(Object(u.jsx)(be,{course:a},a.id))}return Object(u.jsx)("ul",{className:"setup__list",children:t})};var je=function(){var e=Object(l.b)();return Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Setup \ud83e\uddfe"}),Object(u.jsxs)("p",{className:"main__desc",children:["Add courses here from the cart, or manually add courses yourself.",Object(u.jsx)("br",{}),"These courses will appear in your timetable. Go to ",Object(u.jsx)("strong",{children:Object(u.jsx)(c.b,{to:"/generate",children:"Generate"})})," page to generate your timetable"]}),Object(u.jsx)(he,{})]}),Object(u.jsxs)("div",{className:"setup__savingbtn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Save courses into local storage",title:"Save courses into local storage",className:"setup__btn setup_save-course",onClick:function(){return e(X.saveCoursesToLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-save"})}),Object(u.jsx)("button",{type:"button","aria-label":"Load saved courses from local storage",title:"Load saved courses from local storage",className:"setup__btn setup__load-course",onClick:function(){return e(X.loadCoursesFromLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-file-upload"})})]}),Object(u.jsxs)("div",{className:"setup__addbtn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Add new blank course",title:"Add new blank course",className:"setup__btn setup__add-blank-course",onClick:function(){return e(X.addBlankCourse())},children:Object(u.jsx)("i",{className:"fas fa-sticky-note"})}),Object(u.jsx)("button",{type:"button","aria-label":"Open shopping cart",title:"Open shopping cart",className:"setup__btn setup__cart",onClick:function(){return e(_.openCart())},children:Object(u.jsx)("i",{className:"fas fa-shopping-cart"})})]})]})};function ge(e){if(null===e)return null;if(!e.isClashing)return Object(u.jsx)("div",{className:"clashcheck__output",children:Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u2705 No Clash Found \u2705"})});var t=Object(f.a)(e.clashDetails,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"clashcheck__output",children:[Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u26d4\ufe0f Clash Detected \u26d4\ufe0f"}),Object(u.jsxs)("div",{className:"clashcheck__output__detail",children:["Clash occur between",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(n.courseName,'" on ').concat(E(n.dayOfWeek))}),"and",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(a.courseName,'" on ').concat(E(a.dayOfWeek))}),"at",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:"".concat(I(n.time)," - ").concat(I(n.time+1))})]})]})}function pe(e,t,n,a){var o=function(e){var t=new Array(7).fill(null);for(var n in t=t.map((function(){return new Array(23).fill(null)})),e)if("nextID"!==n){var a=e[n];for(var o in a.timeslots)if("nextID"!==o)for(var i=a.timeslots[o],r=i.startTime;r<i.endTime;++r){var c={courseName:a.courseName,dayOfWeek:i.dayOfWeek,time:r};if(t[i.dayOfWeek][r])return{isClashing:!0,clashDetails:[c,t[i.dayOfWeek][r]]};t[i.dayOfWeek][r]=c}}return{isClashing:!1,clashDetails:null}}(e);t(o),o.isClashing?(a(M({type:"danger",message:"There is a clash in your timetable. Go back to Setup page to fix the clash."})),a(T())):(n(1),R(".configure"))}var Oe=function(e){var t=Object(l.c)((function(e){return e.setupCourses})),n=e.setState,o=Object(a.useState)(null),i=Object(f.a)(o,2),r=i[0],c=i[1],s=Object(l.b)();return Object(u.jsxs)("section",{className:"generate__section clashcheck",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 1: Clash Check \ud83d\udca3"}),Object(u.jsx)("p",{className:"generate__desc",children:"Check your timetable for any clashes"}),Object(u.jsx)("button",{className:"clashcheck__btn",type:"button","aria-label":"Trigger check the timetable for clashes",label:"Trigger check the timetable for clashes",disabled:null!==r,onClick:function(){return pe(t,c,n,s)},children:"Check Clash"}),ge(r)]})},xe=n(77),ve=n.n(xe),_e=["Roboto","Orbitron","Grandstander","Marvel","Cantora One"];_e.forEach((function(e){new ve.a(e).load().then((function(){console.log("Loaded webfont ".concat(e))})).catch((function(t){console.log("Failed loading webfont ".concat(e))}))}));var Ce=Object(O.c)({name:"config",initialState:{general:{theme:"default",orientation:"horizontal",weekends:"fri/sat",timeframeBegin:8,timeframeEnd:17},grid:{gridWidth:200,gridHeight:150,gap:5,courseNameFontSize:25,lecturerNameFontSize:15,courseCodeFontSize:13},custom:{isCustom:!1,backgroundColor:"#ffffff",fontFamily:"Roboto",labelGridColor:"#7f8082",labelGridFontColor:"#ffffff",timeGridColor:"#70ad46",timeGridFontColor:"#ffffff",evenRowColor:"#c6e0b3",oddRowColor:"#a9d08f",courseColors:{},defaultCustomCourseColors:{fontColor:"#ffffff",backgroundColor:"#3498db"}}},reducers:{setTheme:function(e,t){e.general.theme=t.payload,e.custom.isCustom="custom"===t.payload},setOrientation:function(e,t){e.general.orientation=t.payload},setWeekends:function(e,t){e.general.weekends=t.payload},setTimeframeBegin:function(e,t){e.general.timeframeBegin=Number(t.payload),e.general.timeframeEnd=Math.max(Number(t.payload)+1,e.general.timeframeEnd)},setTimeframeEnd:function(e,t){e.general.timeframeEnd=Number(t.payload)},setGridWidth:function(e,t){e.grid.gridWidth=Math.max(0,Number(t.payload))},setGridHeight:function(e,t){e.grid.gridHeight=Math.max(0,Number(t.payload))},setGap:function(e,t){e.grid.gap=Math.max(0,Number(t.payload))},setCourseNameFontSize:function(e,t){e.grid.courseNameFontSize=Math.max(0,Number(t.payload))},setLecturerNameFontSize:function(e,t){e.grid.lecturerNameFontSize=Math.max(0,Number(t.payload))},setCourseCodeFontSize:function(e,t){e.grid.courseCodeFontSize=Math.max(0,Number(t.payload))},modifyCustomConfiguration:function(e,t){e.custom=Object.assign({},e.custom,t.payload)},changeCourseBackgroundColor:function(e,t){var n=t.payload,a=n.id,o=n.color;e.custom.courseColors[a]&&(e.custom.courseColors[a].backgroundColor=o)},changeCourseFontColor:function(e,t){var n=t.payload,a=n.id,o=n.color;e.custom.courseColors[a]&&(e.custom.courseColors[a].fontColor=o)}}}),Ne=Object(p.a)({},Ce.actions),ye=Ce.reducer;var Se=function(){var e=Object(l.c)((function(e){return e.config.general})),t=e.theme,n=e.orientation,a=e.weekends,o=e.timeframeBegin,i=e.timeframeEnd,r=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"General Configurations"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Theme \ud83c\udfa8"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the theme for the timetable generated",value:t,onChange:function(e){return r(Ne.setTheme(e.target.value))},children:[Object(u.jsx)("option",{value:"default",children:"Default"}),Object(u.jsx)("option",{value:"futuristic",children:"Futuristic"}),Object(u.jsx)("option",{value:"cuteness",children:"Cuteness"}),Object(u.jsx)("option",{value:"spidey",children:"Spidey"}),Object(u.jsx)("option",{value:"nature",children:"Nature"}),Object(u.jsx)("option",{value:"custom",children:"Custom"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Orientation \ud83d\udd0d"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select timetable orientation",title:"Select timetable orientation",value:n,onChange:function(e){return r(Ne.setOrientation(e.target.value))},children:[Object(u.jsx)("option",{value:"horizontal",children:"Horizontal"}),Object(u.jsx)("option",{value:"vertical",children:"Vertical"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Weekends \ud83d\udcc6"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select to exclude/include the weekends on timetable",title:"Select to exclude/include the weekends on timetable",value:a,onChange:function(e){return r(Ne.setWeekends(e.target.value))},children:[Object(u.jsx)("option",{value:"fri/sat",children:"Hide Fri/Sat"}),Object(u.jsx)("option",{value:"sat/sun",children:"Hide Sat/Sun"}),Object(u.jsx)("option",{value:"all",children:"i want all"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Visible Timeframe \u231a\ufe0f"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the starting timeframe for the timetable generated",title:"Select the starting timeframe for the timetable generated",value:o,onChange:function(e){return r(Ne.setTimeframeBegin(e.target.value))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"to",Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the ending timeframe for the timetable generated",title:"Select the ending timeframe for the timetable generated",value:i,onChange:function(e){return r(Ne.setTimeframeEnd(e.target.value))},children:[Object(u.jsx)("option",{value:"9",disabled:o>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:o>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:o>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:o>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:o>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:o>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:o>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:o>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:o>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:o>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:o>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:o>19,children:"14 (8:00 PM)"})]})]})]})]})};var we=function(){var e=Object(l.c)((function(e){return e.config.grid})),t=e.gridWidth,n=e.gridHeight,a=e.courseNameFontSize,o=e.lecturerNameFontSize,i=e.courseCodeFontSize,r=e.gap,c=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Grid Configurations \ud83d\udcd0"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Width"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the width for each grid in timetable",title:"Select the width for each grid in timetable",value:t,onChange:function(e){return c(Ne.setGridWidth(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Height"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the height for each grid in timetable",title:"Select the height for each grid in timetable",value:n,onChange:function(e){return c(Ne.setGridHeight(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Gap"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the gap size (spacing between grids) in timetable",title:"Select the gap size (spacing between grids) in timetable",value:r,onChange:function(e){return c(Ne.setGap(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course names in timetable",title:"Select the font size for course names in timetable",value:a,onChange:function(e){return c(Ne.setCourseNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Lecturer Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for lecturer name in timetable",title:"Select the font size for lecturer name in timetable",value:o,onChange:function(e){return c(Ne.setLecturerNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Code Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course code in timetable",title:"Select the font size for course code in timetable",value:i,onChange:function(e){return c(Ne.setCourseCodeFontSize(e.target.value))}})]})]})]})};var ke=function(){var e=Object(l.c)((function(e){return e.config.custom})),t=Object(l.c)((function(e){return e.setupCourses})),n=Object(l.b)(),o=e.defaultCustomCourseColors;if(Object(a.useEffect)((function(){var e={};Object.values(t).forEach((function(t){"object"===typeof t&&(e[t.id]=Object(p.a)({id:t.id,name:t.courseName},o))})),n(Ne.modifyCustomConfiguration({courseColors:e}))}),[n,t,o]),!e.isCustom)return Object(u.jsx)(a.Fragment,{});var i=Object.values(e.courseColors).map((function(e){return Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("strong",{className:"configure__itemtitle configure__coursename",children:e.name}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(t){return n(Ne.changeCourseBackgroundColor({id:e.id,color:t.target.value}))}}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select font color",title:"Select font color",value:e.fontColor,onChange:function(t){return n(Ne.changeCourseFontColor({id:e.id,color:t.target.value}))}})]},e.id)}));return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Customization \ud83e\uddd0"}),Object(u.jsx)("img",{alt:"guide to customization timetable",src:"/img/custom_guide.png",className:"configure__guidepic"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({backgroundColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Font"}),Object(u.jsx)("select",{className:"configure__iteminput","aria-label":"Select font style for timetable",title:"Select font style for timetable",value:e.fontFamily,onChange:function(e){return n(Ne.modifyCustomConfiguration({fontFamily:e.target.value}))},children:_e.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Color",title:"Select Label Grid Color",value:e.labelGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid Color",title:"Select Timegrid Color",value:e.timeGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Font Color",title:"Select Label Grid Font Color",value:e.labelGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid font color 2",title:"Select Timegrid font color 2",value:e.timeGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Odd Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select odd row colors",title:"Select odd row colors",value:e.oddRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({oddRowColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Even Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select even row colors",title:"Select even row colors",value:e.evenRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({evenRowColor:e.target.value}))}})]})]}),Object(u.jsx)("ul",{className:"configure__grp",children:i})]})};function Te(e){e(2),R(".creation")}var Fe=function(e){var t=e.setState;return Object(u.jsxs)("section",{className:"generate__section configure",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 2: Configure Timetable \u2699\ufe0f"}),Object(u.jsx)("p",{className:"generate__desc",children:"Try changing the theme! or perhaps be artistic and set everything yourself?"}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3 - Generate Timetable",title:"Proceed to Step 3 - Create Timetable",className:"configure__btn configure__btnskip",onClick:function(){return Te(t)},children:"Just give me the timetable! \ud83d\ude21"}),Object(u.jsx)(Se,{}),Object(u.jsx)(we,{}),Object(u.jsx)(ke,{}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3 - Generate Timetable",title:"Proceed to Step 3 - Create Timetable",className:"configure__btn configure__btnproceed",onClick:function(){return Te(t)},children:"Proceed \ud83d\udcaa"})]})},Me={default:{theme:"default",backgroundColor:"#ffffff",labelGridColor:"#7f8082",timeGridColor:"#70ad46",oddRowColor:"#c6e0b3",evenRowColor:"#a9d08f",fontFamily:"Roboto",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#3498db","#6ab04c","#e74c3c","#9b59b6","#34495e","#f1c40f","#3a40b6","#2ecc71","#e67e22","#686de0"],courseFontColors:["#ffffff"]},futuristic:{theme:"futuristic",backgroundColor:"#2ecc71",labelGridColor:"#000000",timeGridColor:"#000000",oddRowColor:"#1b242e",evenRowColor:"#212d3b",fontFamily:"Orbitron",labelGridFontColor:"#29e679",timeGridFontColor:"#29e679",courseBackgroundColors:["#000000"],courseFontColors:["#29e679"]},cuteness:{theme:"cuteness",backgroundColor:"#ffffff",labelGridColor:"#ff7199",timeGridColor:"#ff7199",oddRowColor:"#ffbada",evenRowColor:"#ffe2ea",fontFamily:"Grandstander",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#ff90c3"],courseFontColors:["#ffffff"]},spidey:{theme:"spidey",backgroundColor:"#cccee3",labelGridColor:"#0861a3",timeGridColor:"#0268d7",oddRowColor:"#ca141d",evenRowColor:"#b31219",fontFamily:"Marvel",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#8f0505"],courseFontColors:["#ffffff"]},nature:{theme:"nature",backgroundColor:"#392c1d",labelGridColor:"#55422b",timeGridColor:"#907a48",oddRowColor:"#4f6336",evenRowColor:"#4b6b3c",fontFamily:"Cantora One",labelGridFontColor:"#e6deb9",timeGridFontColor:"#3b2e1e",courseBackgroundColors:["#d4bf88"],courseFontColors:["#3b2e1e"]}};function Ge(e,t){return t.isCustom?function(e,t){var n=[];for(var a in e)if(!isNaN(a)){var o=e[a],i=o.id,r=o.courseName,c=o.lecturerName,s=o.courseCode,l=t.courseColors[i]||t.defaultCustomCourseColors,u=l.fontColor,d=l.backgroundColor;for(var m in o.timeslots)if(!isNaN(m)){var f=o.timeslots[m],b=f.dayOfWeek,h=f.startTime,j=f.endTime;n.push({name:r,lecturer:c,code:s,dayOfWeek:b,startTime:h,endTime:j,theme:"custom",backgroundColor:d,fontColor:u})}}return n}(e,t):function(e,t){var n=[],a=0,o=t.theme,i=t.courseBackgroundColors,r=t.courseFontColors;for(var c in e)if(!isNaN(c)){var s=e[c],l=s.courseName,u=s.lecturerName,d=s.courseCode;for(var m in s.timeslots)if(!isNaN(m)){var f=s.timeslots[m],b=f.dayOfWeek,h=f.startTime,j=f.endTime;n.push({name:l,lecturer:u,code:d,dayOfWeek:b,startTime:h,endTime:j,theme:o,backgroundColor:i[a%i.length],fontColor:r[a%r.length]})}++a}return n}(e,t)}var De=n(19);function We(e,t){e.add(new De.a.Rect(Object(p.a)({preventDefault:!1},t)))}function ze(e,t){e.add(new De.a.Text(Object(p.a)({preventDefault:!1,align:"center",verticalAlign:"middle"},t)))}function Ae(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=e.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,r=t.oddRowColor,c=t.evenRowColor,s=t.backgroundColor,l=25*a+26*i,u=8*o+9*i,d=new De.a.Layer;We(d,{fill:s,width:l,height:u});for(var m=0;m<8;++m)for(var f=0;f<25;++f)We(d,{fill:1&m?r:c,width:a,height:o,x:i+(a+i)*f,y:i+(o+i)*m});return d}(e,t):function(e,t){var n=e.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,r=t.oddRowColor,c=t.evenRowColor,s=t.backgroundColor,l=8*a+9*i,u=25*o+26*i,d=new De.a.Layer;We(d,{fill:s,width:l,height:u});for(var m=0;m<25;++m)for(var f=0;f<8;++f)We(d,{fill:1&f?r:c,width:a,height:o,x:i+(a+i)*f,y:i+(o+i)*m});return d}(e,t)}function Pe(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=new De.a.Layer;return function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,r=t.grid,c=r.gridWidth,s=r.gridHeight,l=r.gap,u=r.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+c)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==o)&&(5!==n||"fri/sat"!==o)&&(6!==n||"all"===o)){var a=l+(l+s)*(n+1);We(e,{fill:d,x:b,y:a,width:c,height:s}),ze(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:b,y:a,width:c,height:s})}}))}(n,e,t),function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,r=t.grid,c=r.gridWidth,s=r.gridHeight,l=r.gap,u=r.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,h="sat/sun"===o?l+s+l:l,j=l+(c+l)*i;We(e,{x:j,y:h,width:c,height:s,fill:d});var g=h+s/2+l/2,p=s/2-l/2;We(e,{fill:m,x:j,y:h,width:c,height:p}),ze(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:h,width:c,height:p}),We(e,{fill:m,x:j,y:g,width:c,height:p}),ze(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:g,width:c,height:p})}(n,e,t),function(e,t,n){for(var a=t.general,o=a.weekends,i=a.timeframeBegin,r=a.timeframeEnd,c=t.grid,s=c.gridWidth,l=c.gridHeight,u=c.gap,d=c.courseNameFontSize,m=n.backgroundColor,f=n.timeGridColor,b=n.timeGridFontColor,h=n.fontFamily,j=.75*d,g="sat/sun"===o?2*u+l:u,p=g+l/2+u/2,O=l/2-u/2,x=i;x<r;++x){var v=u+(x+1)*(u+s);We(e,{fill:m,x:v,y:g,height:l,width:s}),We(e,{fill:f,x:v,y:g,height:O,width:s}),ze(e,{text:"".concat(I(x),"\n").concat(I(x+1)),fontFamily:h,fontSize:j,fill:b,x:v,y:g,height:O,width:s,lineHeight:1.6}),We(e,{fill:f,x:v,y:p,height:O,width:s}),ze(e,{text:"".concat(L(x)),fontFamily:h,fontSize:d,fontStyle:"bold",fill:b,x:v,y:p,height:O,width:s})}}(n,e,t),n}(e,t):function(e,t){var n=new De.a.Layer;return function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,r=t.grid,c=r.gridWidth,s=r.gridHeight,l=r.gap,u=r.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+s)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==o)&&(5!==n||"fri/sat"!==o)&&(6!==n||"all"===o)){var a=l+(l+c)*(n+1);We(e,{fill:d,x:a,y:b,width:c,height:s}),ze(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:a,y:b,width:c,height:s})}}))}(n,e,t),function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,r=t.grid,c=r.gridWidth,s=r.gridHeight,l=r.gap,u=r.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,h="sat/sun"===o?l+c+l:l,j=l+(s+l)*i;We(e,{x:h,y:j,width:c,height:s,fill:d});var g=j+s/2+l/2,p=s/2-l/2;We(e,{fill:m,x:h,y:j,width:c,height:p}),ze(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:j,width:c,height:p}),We(e,{fill:m,x:h,y:g,width:c,height:p}),ze(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:g,width:c,height:p})}(n,e,t),function(e,t,n){for(var a=t.general,o=a.weekends,i=a.timeframeBegin,r=a.timeframeEnd,c=t.grid,s=c.gridWidth,l=c.gridHeight,u=c.gap,d=c.courseNameFontSize,m=n.timeGridColor,f=n.timeGridFontColor,b=n.fontFamily,h=.75*d,j="sat/sun"===o?2*u+s:u,g=.25*l,p=i;p<r;++p){var O=u+(p+1)*(u+l),x=O+.75*l;We(e,{fill:m,x:j,y:O,height:l,width:s}),ze(e,{text:"".concat(I(p),"\n").concat(I(p+1)),fontFamily:b,fontSize:h,fill:f,x:j,y:O,height:l-g,width:s,lineHeight:1.6}),ze(e,{text:"".concat(L(p)),fontFamily:b,fontSize:d,fontStyle:"bold",fill:f,x:j,y:x,height:g,width:s})}}(n,e,t),n}(e,t)}var Ee=n(42);function Ie(e,t,n){return"horizontal"===e.general.orientation?function(e,t,n){var a,o=new De.a.Layer,i=e.grid,r=i.gridWidth,c=i.gridHeight,s=i.gap,l=Object(Ee.a)(n);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=u.dayOfWeek,m=u.startTime;Le(o,u,t,e,s+(m+1)*(s+r),s+(d+1)*(s+c),(u.endTime-m)*(r+s)-s,c)}}catch(f){l.e(f)}finally{l.f()}return o}(e,t,n):function(e,t,n){var a,o=new De.a.Layer,i=e.grid,r=i.gridWidth,c=i.gridHeight,s=i.gap,l=Object(Ee.a)(n);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=u.dayOfWeek,m=u.startTime;Le(o,u,t,e,s+(d+1)*(s+r),s+(m+1)*(s+c),r,(u.endTime-m)*(c+s)-s)}}catch(f){l.e(f)}finally{l.f()}return o}(e,t,n)}function Le(e,t,n,a,o,i,r,c){var s=t.lecturer&&t.code?[.6,.2,.2]:t.lecturer?[.75,.25,0]:t.code?[.75,0,.25]:[1,0,0],l=a.grid,u=l.courseNameFontSize,d=l.lecturerNameFontSize,m=l.courseCodeFontSize,f=c*s[0],b=c*s[1],h=c*s[2];We(e,{x:o,y:i,width:r,height:c,fill:t.backgroundColor}),ze(e,{x:o,y:i,width:r,height:f,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:u,text:t.name,fontStyle:"bold"}),ze(e,{x:o,y:i+f,width:r,height:b,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:d,text:t.lecturer,fontStyle:"bold"}),ze(e,{x:o,y:i+f+b,width:r,height:h,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:m,text:t.code})}function Re(e,t,n){var a=document.createElement("div"),o=function(e){return"custom"===e.general.theme?e.custom:Me[e.general.theme]}(n),i=Ge(t,o),r=function(e,t){var n=t.general.orientation,a=t.grid,o=a.gridWidth,i=a.gridHeight,r=a.gap;if("horizontal"===n){var c=25*o+26*r,s=8*i+9*r;return new De.a.Stage({container:e,width:c,height:s})}var l=8*o+9*r,u=25*i+26*r;return new De.a.Stage({container:e,width:l,height:u})}(a,n);r.add(Ae(n,o)),r.add(Pe(n,o)),r.add(Ie(n,o,i));var c=function(e,t){return"horizontal"===t.general.orientation?function(e,t){var n=t.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,r=t.general,c=r.weekends,s=r.timeframeBegin,l="sat/sun"===c?i+o:0,u="all"===c?8*o+9*i:6*o+7*i,d=(i+a)*s,m=i+(r.timeframeEnd-s+1)*(a+i);return e.toDataURL({x:d,y:l,width:m,height:u})}(e,t):function(e,t){var n=t.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,r=t.general,c=r.weekends,s=r.timeframeBegin,l="sat/sun"===c?i+a:0,u="all"===c?8*a+9*i:6*a+7*i,d=(i+o)*s,m=i+(r.timeframeEnd-s+1)*(o+i);return e.toDataURL({x:l,y:d,width:u,height:m})}(e,t)}(r,n);e.src=c}var Be=function(){var e=Object(l.c)((function(e){return e.config})),t=Object(l.c)((function(e){return e.setupCourses})),n=Object(a.useState)(!1),o=Object(f.a)(n,2),i=o[0],r=o[1],c=Object(a.useRef)(null);return Object(u.jsxs)("section",{className:"generate__section creation",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 3: Creation \ud83c\udf87"}),Object(u.jsx)("p",{className:"generate__desc",children:"Minor lag spike incoming (Don't worry it's normal)"}),Object(u.jsxs)("div",{className:"creation__btngrp",children:[Object(u.jsx)("button",{className:"creation__btn creation__create",type:"button","aria-label":"Create timetable",title:"Create timetable",onClick:function(){return function(e,t,n,a){e(!0),Re(t.current,n,a),R(".creation")}(r,c,t,e)},children:"Create"}),i?Object(u.jsx)("button",{className:"creation__btn creation__png",type:"button","aria-label":"Download timetable as png image",title:"Download timetable as png image",onClick:function(){return function(e){var t=document.createElement("a");t.href=e.current.src,t.download="timetable.png",t.click()}(c)},children:"Download png"}):null,i?Object(u.jsx)("button",{className:"creation__btn creation__newtab",type:"button","aria-label":"Open timetable in new tab",title:"Open timetable in new tab",onClick:function(){return function(e){var t=window.open("");t.document.write(e.current.outerHTML),t.document.close()}(c)},children:"Open in new tab"}):null]}),Object(u.jsx)("div",{className:"creation__view",children:Object(u.jsx)("img",{className:"creation__img",alt:"generated timetable",id:"timetable-img",ref:c,style:i?null:{display:"none"}})})]})};var He=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],o=t[1];return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Generate Timetable \ud83c\udfed"}),Object(u.jsx)("p",{className:"main__desc",children:"Here, you check clashes, customize, and finally generate your timetable"}),n>=0?Object(u.jsx)(Oe,{setState:o}):null,n>=1?Object(u.jsx)(Fe,{setState:o}):null,n>=2?Object(u.jsx)(Be,{}):null]})})};var Je=function(){var e=Object(a.useState)([{page:0,content:""}]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(0),r=Object(f.a)(i,2),c=r[0],s=r[1],d=Object(l.b)();return Object(a.useEffect)((function(){d(S()),d(ce()),fetch("./data/tutorial.json").then((function(e){return e.json()})).then((function(e){o(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),d(M({type:"danger",message:"Error occurred while fetching tutorials. See console for more info"})),d(T())})).finally((function(){d(w()),d(se())}))}),[d]),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Tutorial \ud83d\udcda"}),Object(u.jsxs)("div",{className:"tutorial__btngrp",children:[Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__prev",onClick:function(){return s(Math.max(0,c-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-left"})}),"Page ",c+1," of ",n.length,Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__next",onClick:function(){return s(Math.min(c+1,n.length-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-right"})})]}),Object(u.jsx)(ae.a,{className:"tutorial__markdown",children:n[c].content,rehypePlugins:[oe.a]})]})})};function Ue(e){var t=e.course,n=Object(l.b)();return Object(u.jsxs)("li",{className:"catalog--item",children:[Object(u.jsx)("h4",{className:"catalog--item--name",children:t.name}),Object(u.jsx)("p",{className:"catalog--item--code",children:t.code}),Object(u.jsx)("button",{className:"catalog--item--addtocart",onClick:function(){return function(e,t){e(_.addCourseToCart(t)),e(M({type:"success",message:'Successfully added "'.concat(t.name,'" - ').concat(t.code," into the cart! \ud83d\uded2")})),e(T())}(n,t)},children:Object(u.jsx)("i",{className:"fas fa-cart-plus"})})]})}var qe=Object(a.memo)(Ue);var Ve=function(e){var t=e.url,n=Object(l.b)(),o=Object(a.useState)(""),i=Object(f.a)(o,2),r=i[0],c=i[1],s=Object(a.useState)({}),d=Object(f.a)(s,2),m=d[0],b=d[1];Object(a.useEffect)((function(){n(S()),n(ce()),fetch(t).then((function(e){return e.json()})).then((function(e){b(e),n(M({type:"success",message:"Succesfully fetched ".concat(Object.keys(e).length," course(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),n(M({type:"danger",message:"Error occurred while fetching courses. See console for more info"}))})).finally((function(){n(T()),n(w()),n(se())}))}),[t,n]);var h=[],j=new RegExp(r,"gi");for(var g in m){var p=m[g];(!r.length||j.test(p.name)||j.test(p.code))&&h.push(Object(u.jsx)(qe,{course:p},p.id))}return Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("h4",{className:"courses--title",children:"Step 2: Select Courses"}),Object(u.jsx)("input",{type:"text","aria-label":"search/filter bar",value:r,className:"catalog--search",placeholder:"Search...",onChange:function(e){return c(e.target.value)}}),Object(u.jsx)("ul",{className:"catalog--list",children:h})]})};var Qe=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),r=Object(f.a)(i,2),s=r[0],d=r[1],m=Object(l.b)();return Object(a.useEffect)((function(){m(S()),m(ce()),fetch("./data/school_list.json").then((function(e){return e.json()})).then((function(e){e=e.sort((function(e,t){return e.name<t.name?-1:1})),o(e),m(M({type:"success",message:"Succesfully fetched ".concat(e.length," school(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),m(M({type:"danger",message:"Error occurred while fetching school list. See console for more info"}))})).finally((function(){m(T()),m(w()),m(se())}))}),[m]),Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"main--scrollable-wrapper courses",children:[Object(u.jsx)("h2",{className:"main__title",children:"UTM Courses \ud83d\udcd6"}),Object(u.jsxs)("p",{className:"main__desc",children:["Add readily available UTM courses into your cart, which you can use later in ",Object(u.jsx)("strong",{children:Object(u.jsx)(c.b,{to:"/setup",children:"Setup"})})," page"]}),Object(u.jsx)("h4",{className:"courses--title",children:"Step 1: Select School/Faculty"}),Object(u.jsxs)("p",{className:"courses--desc",children:["Doesn't see your school/faculty listed? Incorrect course information?",Object(u.jsx)("a",{href:"https://forms.gle/YhgPcBSBCoiDipQk6",target:"_blank",rel:"noopener noreferrer",children:" Send Feedback"})]}),Object(u.jsxs)("select",{"aria-label":"Select school/faculty",value:s,className:"courses--select",onChange:function(e){return d(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"",children:" -- select an option -- "}),n.map((function(e){return Object(u.jsx)("option",{value:e.url,children:e.name},e.name)}))]}),""!==s?Object(u.jsx)(Ve,{url:s}):null]}),Object(u.jsxs)("button",{type:"button","aria-label":"Open shopping cart",title:"Open shopping cart",className:"course__btn course__cart",onClick:function(){return m(_.openCart())},children:["Cart ",Object(u.jsx)("i",{className:"fas fa-shopping-cart"})]})]})};var Ye=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){e(M({type:"primary",message:"Welcome! If you are new here, you can click tutorial button on top-right corner!"})),e(T())}),[e]),Object(u.jsxs)(c.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(d,{}),Object(u.jsx)(b,{}),Object(u.jsx)(ne,{}),Object(u.jsxs)("div",{className:"min-height-screen-height",children:[Object(u.jsx)(h,{}),Object(u.jsx)(j,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{path:"/setup",children:Object(u.jsx)(je,{})}),Object(u.jsx)(s.a,{path:"/generate",children:Object(u.jsx)(He,{})}),Object(u.jsx)(s.a,{path:"/courses",children:Object(u.jsx)(Qe,{})}),Object(u.jsx)(s.a,{path:"/tutorial",children:Object(u.jsx)(Je,{})}),Object(u.jsx)(s.a,{path:"/",children:Object(u.jsx)(ue,{})})]})]}),Object(u.jsx)(g,{})]})},Ke=Object(O.a)({reducer:{balloon:G,blindfold_showing:k,loadingScreen_showing:le,setupCourses:Z,config:ye,cart:C}});n(116);r.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(l.a,{store:Ke,children:Object(u.jsx)(Ye,{})})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.44f02d76.chunk.js.map