(this["webpackJsonputm-timetable-generator-v2"]=this["webpackJsonputm-timetable-generator-v2"]||[]).push([[0],{116:function(e,t,n){},117:function(e,t,n){"use strict";n.r(t);var o=n(2),a=n.n(o),i=n(45),c=n.n(i),r=n(18),s=n(16),l=n(9),u=n(0);var d=function(){var e=Object(l.c)((function(e){return e.balloon})),t=e.shownCount,n=e.type,o=e.message;return Object(u.jsx)("div",{className:"balloon ".concat(n," ").concat(t?"shown":""),children:o})};var m=function(){var e=Object(l.c)((function(e){return e.blindfold_showing}));return Object(u.jsx)("div",{className:"blindfold ".concat(e?"shown":"")})},f=n(14);var b=function(){var e=Object(l.c)((function(e){return e.loadingScreen_showing})),t=Object(o.useState)(["Loading..."]),n=Object(f.a)(t,2),a=n[0],i=n[1],c=Math.floor(Math.random()*a.length);return Object(o.useEffect)((function(){fetch("./data/loading-quotes.json").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){console.error("Failed to fetch loading screen quotes from ./data/loading-quotes.json")}))}),[]),Object(u.jsxs)("div",{className:"loadScreen ".concat(e?"shown":""),children:[Object(u.jsx)("h4",{className:"loadScreen__title",children:"Loading \u231b\ufe0f"}),Object(u.jsxs)("p",{className:"loadScreen__quote",children:[" ",a[c]," "]}),Object(u.jsx)("i",{className:"fab fa-github-alt loadScreen__logo"})]})};var j=function(){return Object(u.jsxs)("header",{className:"header container-padded",children:[Object(u.jsx)("img",{className:"header__logo",alt:"Logo Universiti Tekonologi Malaysia",src:"./img/utm_logo.png"}),Object(u.jsx)("h1",{className:"header__title",children:"UTM Timetable Generator V2"}),Object(u.jsx)(r.b,{role:"button",title:"Announcements",to:"/",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-bullhorn"})}),Object(u.jsx)(r.b,{role:"button",title:"View Tutorial",to:"/tutorial",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-question"})})]})};var h=function(){var e=Object(s.f)().pathname;return Object(u.jsxs)("nav",{className:"nav container",children:[Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/courses"===e,to:"/courses",children:"Courses 1\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/sections"===e,to:"/sections",children:"Sections 2\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/classes"===e,to:"/classes",children:"Classes 3\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/generate"===e,to:"/generate",children:"Generate 4\ufe0f\u20e3"})]})};var g=function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsxs)("a",{"aria-label":"Link to github account",href:"https://github.com/AdmiJW/UTM-Timetable-Generator-V2/issues",target:"_blank",rel:"noreferrer noopener",className:"footer__card",children:[Object(u.jsx)("p",{className:"footer__card__text",children:"Support"}),Object(u.jsx)("i",{className:"fab fa-github-alt footer__card__logo"})]}),Object(u.jsx)("p",{className:"footer__desc",children:"An open source project"})]})},O=n(11),p=n(17),x=Object(p.b)("sections/removeCourseFromSections",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),1e3)}))})),v=Object(p.c)({name:"sections",initialState:{meta:{nextID:0}},reducers:{addCourseToSections:function(e,t){e[e.meta.nextID++]=Object.assign({isAnimatingDelete:!1},t.payload)}},extraReducers:function(e){e.addCase(x.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(x.fulfilled,(function(e,t){delete e[t.payload]}))}}),_=Object(O.a)(Object(O.a)({},v.actions),{},{removeCourseFromSections:x}),C=v.reducer,N=Object(p.b)("balloon/showBalloon",(function(e,t){return new Promise((function(e){return window.setTimeout(e,5e3)}))})),y=Object(p.c)({name:"balloon",initialState:{shownCount:0,type:"primary",message:""},reducers:{setTypeAndMessage:function(e,t){var n=t.payload,o=n.type,a=n.message;e.type=o,e.message=a}},extraReducers:function(e){e.addCase(N.pending,(function(e){++e.shownCount})),e.addCase(N.fulfilled,(function(e){--e.shownCount})),e.addCase(N.rejected,(function(e,t){return console.log(t)}))}}),S=y.actions.setTypeAndMessage,w=y.reducer,k=n(43),T=n.n(k),F=n(64),M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function D(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?M[e]:G[e]}function z(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"".concat(e.padStart(2,"0"),":00");var n=e%12,o=e/12;return"".concat(0===n?"12":n).concat(o>=1?":00PM":":00AM")}function W(e){return e<7?"-":"".concat(e-6).padStart(2,"0")}var A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".main--scrollable-wrapper");window.setTimeout((function(){if(e){var n=document.querySelector(e);t.scrollTop=n.offsetTop}else t.scrollTop=t.scrollHeight}),100)},P="classCourses",I=function(e){return{id:e,courseName:"Course Name Here",lecturerName:"Lecturer Name Here",courseCode:"Course Code Here",isAnimatingDelete:!1,timeslots:{nextID:0}}},E=function(e){return{id:e,dayOfWeek:0,startTime:8,endTime:9,isAnimatingDelete:!1}};var L=Object(p.b)(P+"/deleteCourse",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),R=Object(p.b)(P+"/deleteTimeslot",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),B=Object(p.b)(P+"/saveCoursesToLocalStorage",function(){var e=Object(F.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.localStorage.setItem("app-version","1.0.0"),window.localStorage.setItem("saved-state",JSON.stringify(n.getState().classCourses)),n.dispatch(S({type:"success",message:"Successfully saved courses into local storage!"})),n.dispatch(N())}catch(t){n.dispatch(S({type:"danger",message:"Failed to save courses into local storage. See console for more info!"})),n.dispatch(N()),console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(p.b)(P+"/loadCoursesFromLocalStorage",function(){var e=Object(F.a)(T.a.mark((function e(t,n){var o;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.localStorage.getItem("saved-state")){e.next=3;break}throw new Error("not-found");case 3:return"1.0.0"!==window.localStorage.getItem("app-version")&&console.warn("The saved data in local storage has different application version number than the current application version"),o=JSON.parse(localStorage.getItem("saved-state")),n.dispatch(S({type:"success",message:"Successfully loaded courses from local storage!"})),n.dispatch(N()),e.abrupt("return",o);case 10:e.prev=10,e.t0=e.catch(0),"not-found"===e.t0.message?(n.dispatch(S({type:"warning",message:"No previous save data found in local storage."})),n.dispatch(N())):(n.dispatch(S({type:"danger",message:"Failed to load courses from local storage. See console for more info!"})),n.dispatch(N()),console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),J={addBlankCourse:function(e){var t=e.nextID++;e[t]=I(t),A()},addCourseFromSections:function(e,t){var n=t.payload,o=e.nextID++,a=function(e,t){var n=I(t);for(var o in n.courseName=e.name,n.lecturerName=e.lecturer,n.courseCode=e.code+" - Section "+e.section,e.times){var a=e.times[o],i=n.timeslots.nextID++,c=E(i);c.dayOfWeek=a.dayOfWeek,c.startTime=a.beginTime,c.endTime=a.endTime,n.timeslots[i]=c}return n}(n,o);e[o]=a},changeCourseName:function(e,t){var n=t.payload,o=n.id,a=n.newCourseName;e[o].courseName=a},changeLecturerName:function(e,t){var n=t.payload,o=n.id,a=n.newLecturerName;e[o].lecturerName=a},changeCourseCode:function(e,t){var n=t.payload,o=n.id,a=n.newCourseCode;e[o].courseCode=a},addTimeslot:function(e,t){var n=t.payload,o=e[n].timeslots.nextID++;e[n].timeslots[o]=E(o)},changeTimeslotDayOfWeek:function(e,t){var n=t.payload,o=n.courseID,a=n.timeslotID,i=n.dayOfWeek;e[o].timeslots[a].dayOfWeek=Number(i)},changeTimeslotStartTime:function(e,t){var n=t.payload,o=n.courseID,a=n.timeslotID,i=n.startTime;e[o].timeslots[a].startTime=Number(i),e[o].timeslots[a].endTime=Math.max(Number(i)+1,e[o].timeslots[a].endTime)},changeTimeslotEndTime:function(e,t){var n=t.payload,o=n.courseID,a=n.timeslotID,i=n.endTime;e[o].timeslots[a].endTime=Number(i)}},U=Object(p.c)({name:"classCourses",initialState:{nextID:0},reducers:J,extraReducers:function(e){e.addCase(L.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(L.fulfilled,(function(e,t){delete e[t.payload]})),e.addCase(R.pending,(function(e,t){var n=t.meta.arg,o=n.courseID,a=n.timeslotID;e[o].timeslots[a].isAnimatingDelete=!0})),e.addCase(R.fulfilled,(function(e,t){var n=t.payload,o=n.courseID,a=n.timeslotID;delete e[o].timeslots[a]})),e.addCase(H.fulfilled,(function(e,t){return t.payload}))}}),q=Object(O.a)(Object(O.a)({},U.actions),{},{deleteCourse:L,deleteTimeslot:R,saveCoursesToLocalStorage:B,loadCoursesFromLocalStorage:H}),V=U.reducer;var Q=function(e){var t=e.name,n=e.code,o=e.section,a=Object(l.b)(),i=[];for(var c in o.times){var r=o.times[c];i.push(Object(u.jsxs)("li",{className:"sectionstime",children:["\ud83d\udc49 ",Object(u.jsx)("strong",{children:D(r.dayOfWeek,!1)})," From ",Object(u.jsx)("strong",{children:z(r.beginTime)})," To ",Object(u.jsx)("strong",{children:z(r.endTime)})]},c))}return Object(u.jsxs)("li",{className:"sectionssection",children:[Object(u.jsxs)("div",{className:"sectionssection--meta",children:[Object(u.jsxs)("p",{className:"sectionssection--section",children:["Sec ",o.section]}),Object(u.jsx)("p",{className:"sectionssection--lecturer",children:o.lecturer})]}),Object(u.jsx)("ol",{className:"sectionssection--times",children:i}),Object(u.jsx)("button",{type:"button",className:"sectionssection--enroll","aria-label":"Select this section of course",title:"Select this section",onClick:function(){return function(e,t,n,o){var a={name:t,code:n,section:o.section,lecturer:o.lecturer,times:o.times};e(q.addCourseFromSections(a)),e(S({type:"success",message:"Added ".concat(n," - Section ").concat(o.section," to Classes 3\ufe0f\u20e3!")})),e(N())}(a,t,n,o)},children:"Add to Classes"})]})};function Y(e){var t=e.id,n=e.course,o=Object(l.b)(),a=[];for(var i in n.sections){var c=n.sections[i];a.push(Object(u.jsx)(Q,{name:n.name,code:n.code,section:c},i))}return Object(u.jsxs)("li",{className:"sectionscourse ".concat(n.isAnimatingDelete?"removing":""),children:[Object(u.jsxs)("div",{className:"sectionscourse--meta",children:[Object(u.jsx)("p",{className:"sectionscourse--name",children:n.name}),Object(u.jsx)("p",{className:"sectionscourse--code",children:n.code}),Object(u.jsx)("button",{type:"button",className:"sectionscourse--delete","aria-label":"Remove this course from sections",title:"Remove this course from sections",onClick:function(){return o(_.removeCourseFromSections(t))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(u.jsx)("ul",{className:"sectionscourse--sections",children:a})]})}var K=Object(o.memo)(Y);var X=function(){var e=Object(l.c)((function(e){return e.sections})),t=[];for(var n in e)isNaN(n)||t.push(Object(u.jsx)(K,{id:n,course:e[n]},n));return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h4",{className:"main__title",children:"Sections \ud83d\uddc4\ufe0f"}),Object(u.jsxs)("p",{className:"main__desc",children:["From the courses you've added from ",Object(u.jsx)(r.b,{to:"/courses",children:"Courses 1\ufe0f\u20e3"}),", select your section.",Object(u.jsx)("br",{}),"The section will be added to ",Object(u.jsx)(r.b,{to:"/classes",children:"Classes 3\ufe0f\u20e3"})," page."]}),Object(u.jsx)("ul",{className:"sections--list",children:t})]})})},Z=n(53),$=n(54),ee=Object(p.c)({name:"blindfold_showing",initialState:!1,reducers:{showBlindfold:function(){return!0},hideBlindfold:function(){return!1}}}),te=ee.actions,ne=te.showBlindfold,oe=te.hideBlindfold,ae=ee.reducer,ie=Object(p.c)({name:"loadingScreen_showing",initialState:!1,reducers:{showLoadingScreen:function(){return!0},hideLoadingScreen:function(){return!1}}}),ce=ie.actions,re=ce.showLoadingScreen,se=ce.hideLoadingScreen,le=ie.reducer;var ue=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],i=Object(l.b)();Object(o.useEffect)((function(){i(ne()),i(re()),fetch("./data/announcement.json").then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),i(S({type:"danger",message:"Error occurred while fetching announcements. See console for more info"})),i(N())})).finally((function(){i(oe()),i(se())}))}),[i]);var c=n.map((function(e){return Object(u.jsxs)("article",{className:"announcement",children:[Object(u.jsx)("h4",{className:"annoucement--title",children:e.title}),Object(u.jsx)("p",{className:"announcement--date",children:e.date}),Object(u.jsx)(Z.a,{className:"announcement--content",children:e.content,rehypePlugins:[$.a]})]},e.id)}));return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Announcements \ud83d\udce1"}),Object(u.jsx)("h4",{className:"main__subtitle",children:"( Tutorial is on the top right corner \u2197\ufe0f )"}),c]})})};function de(e){var t=Object(l.b)(),n=e.courseID,o=e.timeslot,a=o.id,i=o.dayOfWeek,c=o.startTime,r=o.endTime,s=o.isAnimatingDelete;return Object(u.jsxs)("li",{className:"class__timeslotitem ".concat(s?"deleting":""),children:[Object(u.jsx)("button",{type:"button","aria-label":"Discard this timeslot",label:"Discard this timeslot",className:"class__timeslotitem--discardbtn",onClick:function(){return t(q.deleteTimeslot({courseID:n,timeslotID:a}))},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--dayOfWeek",value:i,onChange:function(e){return t(q.changeTimeslotDayOfWeek({courseID:n,timeslotID:a,dayOfWeek:e.target.value}))},children:[Object(u.jsx)("option",{value:"0",children:"Sunday"}),Object(u.jsx)("option",{value:"1",children:"Monday"}),Object(u.jsx)("option",{value:"2",children:"Tuesday"}),Object(u.jsx)("option",{value:"3",children:"Wednesday"}),Object(u.jsx)("option",{value:"4",children:"Thursday"}),Object(u.jsx)("option",{value:"5",children:"Friday"}),Object(u.jsx)("option",{value:"6",children:"Saturday"})]}),Object(u.jsxs)("div",{className:"class__timeslot--timegrp",children:[Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--startTime",value:c,onChange:function(e){return t(q.changeTimeslotStartTime({courseID:n,timeslotID:a,startTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"To",Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--endTime",value:r,onChange:function(e){return t(q.changeTimeslotEndTime({courseID:n,timeslotID:a,endTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"9",disabled:c>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:c>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:c>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:c>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:c>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:c>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:c>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:c>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:c>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:c>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:c>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:c>19,children:"14 (8:00 PM)"})]})]})]})}var me=Object(o.memo)(de);function fe(e){var t=e.course,n=t.id,a=t.courseName,i=t.lecturerName,c=t.courseCode,r=t.timeslots,s=t.isAnimatingDelete,d=Object(l.b)(),m=Object(o.useRef)(),f=Object(o.useRef)(),b=Object(o.useRef)();Object(o.useEffect)((function(){m.current.innerText=a,f.current.innerText=i,b.current.innerText=c}),[]);var j=[];for(var h in r)if("nextID"!==h){var g=r[h];j.push(Object(u.jsx)(me,{courseID:n,timeslot:g},g.id))}return Object(u.jsxs)("li",{className:"class__courseitem ".concat(s?"deleting":""),"data-nth":n%10,children:[Object(u.jsxs)("div",{className:"class__courseitem--meta",children:[Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--coursename",onInput:function(){return d(q.changeCourseName({id:n,newCourseName:m.current.innerText}))},ref:m,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--lecturername",onInput:function(){return d(q.changeLecturerName({id:n,newLecturerName:f.current.innerText}))},ref:f,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--coursecode",onInput:function(){return d(q.changeCourseCode({id:n,newCourseCode:b.current.innerText}))},ref:b,suppressContentEditableWarning:!0}),Object(u.jsxs)("div",{className:"class__courseitem--btn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Add new time slot",title:"Add new time slot",className:"class__courseitem--btn class__courseitem--addtime",onClick:function(){return d(q.addTimeslot(n))},children:Object(u.jsx)("i",{className:"far fa-clock"})}),Object(u.jsx)("button",{type:"button","aria-label":"Discard course",title:"Discard course",className:"class__courseitem--btn class__courseitem--delcourse",onClick:function(){return d(q.deleteCourse(n))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]})]}),Object(u.jsx)("ul",{className:"class__timeslots",children:j})]})}var be=Object(o.memo)(fe);var je=function(){var e=Object(l.c)((function(e){return e.classCourses})),t=[];for(var n in e)if("nextID"!==n){var o=e[n];t.push(Object(u.jsx)(be,{course:o},o.id))}return Object(u.jsx)("ul",{className:"class__list",children:t})};var he=function(){var e=Object(l.b)();return Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Classes \ud83e\uddfe"}),Object(u.jsxs)("p",{className:"main__desc",children:["Add classes here from ",Object(u.jsx)(r.b,{to:"/sections",children:"Sections 2\ufe0f\u20e3"})," page, or ",Object(u.jsx)("strong",{children:"manually add classes yourself using \u2795 button."}),Object(u.jsx)("br",{}),"These classes will appear in your timetable. Go to ",Object(u.jsx)("strong",{children:Object(u.jsx)(r.b,{to:"/generate",children:"Generate 4\ufe0f\u20e3"})})," page to generate your timetable"]}),Object(u.jsx)(je,{})]}),Object(u.jsxs)("div",{className:"class__savingbtn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Save courses into local storage",title:"Save courses into local storage",className:"class__btn class_save-course",onClick:function(){return e(q.saveCoursesToLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-save"})}),Object(u.jsx)("button",{type:"button","aria-label":"Load saved courses from local storage",title:"Load saved courses from local storage",className:"class__btn class__load-course",onClick:function(){return e(q.loadCoursesFromLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-file-upload"})})]}),Object(u.jsx)("div",{className:"class__addbtn-grp",children:Object(u.jsx)("button",{type:"button","aria-label":"Add new blank course",title:"Add new blank course",className:"class__btn class__add-blank-course",onClick:function(){return e(q.addBlankCourse())},children:Object(u.jsx)("i",{className:"fas fa-plus"})})})]})};function ge(e){if(null===e)return null;if(!e.isClashing)return Object(u.jsx)("div",{className:"clashcheck__output",children:Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u2705 No Clash Found \u2705"})});var t=Object(f.a)(e.clashDetails,2),n=t[0],o=t[1];return Object(u.jsxs)("div",{className:"clashcheck__output",children:[Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u26d4\ufe0f Clash Detected \u26d4\ufe0f"}),Object(u.jsxs)("div",{className:"clashcheck__output__detail",children:["Clash occur between",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(n.courseName,'" on ').concat(D(n.dayOfWeek))}),"and",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(o.courseName,'" on ').concat(D(o.dayOfWeek))}),"at",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:"".concat(z(n.time)," - ").concat(z(n.time+1))})]})]})}function Oe(e,t,n,o){var a=function(e){var t=new Array(7).fill(null);for(var n in t=t.map((function(){return new Array(23).fill(null)})),e)if("nextID"!==n){var o=e[n];for(var a in o.timeslots)if("nextID"!==a)for(var i=o.timeslots[a],c=i.startTime;c<i.endTime;++c){var r={courseName:o.courseName,dayOfWeek:i.dayOfWeek,time:c};if(t[i.dayOfWeek][c])return{isClashing:!0,clashDetails:[r,t[i.dayOfWeek][c]]};t[i.dayOfWeek][c]=r}}return{isClashing:!1,clashDetails:null}}(e);t(a),a.isClashing?(o(S({type:"danger",message:"There is a clash in your timetable. Go back to Classes page to fix the clash."})),o(N())):(n(1),A(".configure"))}var pe=function(e){var t=Object(l.c)((function(e){return e.classCourses})),n=e.setState,a=Object(o.useState)(null),i=Object(f.a)(a,2),c=i[0],r=i[1],s=Object(l.b)();return Object(u.jsxs)("section",{className:"generate__section clashcheck",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 1: Clash Check \ud83d\udca3"}),Object(u.jsx)("p",{className:"generate__desc",children:"Check your timetable for any clashes"}),Object(u.jsx)("button",{className:"clashcheck__btn",type:"button","aria-label":"Trigger check the timetable for clashes",label:"Trigger check the timetable for clashes",disabled:null!==c,onClick:function(){return Oe(t,r,n,s)},children:"Check Clash"}),ge(c)]})},xe=n(77),ve=n.n(xe),_e=["Roboto","Orbitron","Grandstander","Marvel","Cantora One"];_e.forEach((function(e){new ve.a(e).load().then((function(){console.log("Loaded webfont ".concat(e))})).catch((function(t){console.log("Failed loading webfont ".concat(e))}))}));var Ce=Object(p.c)({name:"config",initialState:{general:{theme:"default",orientation:"horizontal",weekends:"fri/sat",timeframeBegin:8,timeframeEnd:17},grid:{gridWidth:200,gridHeight:150,gap:5,courseNameFontSize:25,lecturerNameFontSize:15,courseCodeFontSize:13},custom:{isCustom:!1,backgroundColor:"#ffffff",fontFamily:"Roboto",labelGridColor:"#7f8082",labelGridFontColor:"#ffffff",timeGridColor:"#70ad46",timeGridFontColor:"#ffffff",evenRowColor:"#c6e0b3",oddRowColor:"#a9d08f",courseColors:{},defaultCustomCourseColors:{fontColor:"#ffffff",backgroundColor:"#3498db"}}},reducers:{setTheme:function(e,t){e.general.theme=t.payload,e.custom.isCustom="custom"===t.payload},setOrientation:function(e,t){e.general.orientation=t.payload},setWeekends:function(e,t){e.general.weekends=t.payload},setTimeframeBegin:function(e,t){e.general.timeframeBegin=Number(t.payload),e.general.timeframeEnd=Math.max(Number(t.payload)+1,e.general.timeframeEnd)},setTimeframeEnd:function(e,t){e.general.timeframeEnd=Number(t.payload)},setGridWidth:function(e,t){e.grid.gridWidth=Math.max(0,Number(t.payload))},setGridHeight:function(e,t){e.grid.gridHeight=Math.max(0,Number(t.payload))},setGap:function(e,t){e.grid.gap=Math.max(0,Number(t.payload))},setCourseNameFontSize:function(e,t){e.grid.courseNameFontSize=Math.max(0,Number(t.payload))},setLecturerNameFontSize:function(e,t){e.grid.lecturerNameFontSize=Math.max(0,Number(t.payload))},setCourseCodeFontSize:function(e,t){e.grid.courseCodeFontSize=Math.max(0,Number(t.payload))},modifyCustomConfiguration:function(e,t){e.custom=Object.assign({},e.custom,t.payload)},changeCourseBackgroundColor:function(e,t){var n=t.payload,o=n.id,a=n.color;e.custom.courseColors[o]&&(e.custom.courseColors[o].backgroundColor=a)},changeCourseFontColor:function(e,t){var n=t.payload,o=n.id,a=n.color;e.custom.courseColors[o]&&(e.custom.courseColors[o].fontColor=a)}}}),Ne=Object(O.a)({},Ce.actions),ye=Ce.reducer;var Se=function(){var e=Object(l.c)((function(e){return e.config.general})),t=e.theme,n=e.orientation,o=e.weekends,a=e.timeframeBegin,i=e.timeframeEnd,c=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"General Configurations"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Theme \ud83c\udfa8"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the theme for the timetable generated",value:t,onChange:function(e){return c(Ne.setTheme(e.target.value))},children:[Object(u.jsx)("option",{value:"default",children:"Default"}),Object(u.jsx)("option",{value:"futuristic",children:"Futuristic"}),Object(u.jsx)("option",{value:"cuteness",children:"Cuteness"}),Object(u.jsx)("option",{value:"spidey",children:"Spidey"}),Object(u.jsx)("option",{value:"nature",children:"Nature"}),Object(u.jsx)("option",{value:"custom",children:"Custom"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Orientation \ud83d\udd0d"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select timetable orientation",title:"Select timetable orientation",value:n,onChange:function(e){return c(Ne.setOrientation(e.target.value))},children:[Object(u.jsx)("option",{value:"horizontal",children:"Horizontal"}),Object(u.jsx)("option",{value:"vertical",children:"Vertical"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Weekends \ud83d\udcc6"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select to exclude/include the weekends on timetable",title:"Select to exclude/include the weekends on timetable",value:o,onChange:function(e){return c(Ne.setWeekends(e.target.value))},children:[Object(u.jsx)("option",{value:"fri/sat",children:"Hide Fri/Sat"}),Object(u.jsx)("option",{value:"sat/sun",children:"Hide Sat/Sun"}),Object(u.jsx)("option",{value:"all",children:"i want all"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Visible Timeframe \u231a\ufe0f"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the starting timeframe for the timetable generated",title:"Select the starting timeframe for the timetable generated",value:a,onChange:function(e){return c(Ne.setTimeframeBegin(e.target.value))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"to",Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the ending timeframe for the timetable generated",title:"Select the ending timeframe for the timetable generated",value:i,onChange:function(e){return c(Ne.setTimeframeEnd(e.target.value))},children:[Object(u.jsx)("option",{value:"9",disabled:a>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:a>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:a>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:a>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:a>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:a>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:a>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:a>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:a>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:a>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:a>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:a>19,children:"14 (8:00 PM)"})]})]})]})]})};var we=function(){var e=Object(l.c)((function(e){return e.config.grid})),t=e.gridWidth,n=e.gridHeight,o=e.courseNameFontSize,a=e.lecturerNameFontSize,i=e.courseCodeFontSize,c=e.gap,r=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Grid Configurations \ud83d\udcd0"}),Object(u.jsx)("img",{alt:"guide to customization timetable",src:"./img/grid_guide.jpg",className:"configure__guidepic"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Width"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the width for each grid in timetable",title:"Select the width for each grid in timetable",value:t,onChange:function(e){return r(Ne.setGridWidth(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Height"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the height for each grid in timetable",title:"Select the height for each grid in timetable",value:n,onChange:function(e){return r(Ne.setGridHeight(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Gap"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the gap size (spacing between grids) in timetable",title:"Select the gap size (spacing between grids) in timetable",value:c,onChange:function(e){return r(Ne.setGap(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course names in timetable",title:"Select the font size for course names in timetable",value:o,onChange:function(e){return r(Ne.setCourseNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Lecturer Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for lecturer name in timetable",title:"Select the font size for lecturer name in timetable",value:a,onChange:function(e){return r(Ne.setLecturerNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Code Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course code in timetable",title:"Select the font size for course code in timetable",value:i,onChange:function(e){return r(Ne.setCourseCodeFontSize(e.target.value))}})]})]})]})};var ke=function(){var e=Object(l.c)((function(e){return e.config.custom})),t=Object(l.c)((function(e){return e.classCourses})),n=Object(l.b)(),a=e.defaultCustomCourseColors;if(Object(o.useEffect)((function(){var e={};Object.values(t).forEach((function(t){"object"===typeof t&&(e[t.id]=Object(O.a)({id:t.id,name:t.courseName},a))})),n(Ne.modifyCustomConfiguration({courseColors:e}))}),[n,t,a]),!e.isCustom)return Object(u.jsx)(o.Fragment,{});var i=Object.values(e.courseColors).map((function(e){return Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("strong",{className:"configure__itemtitle configure__coursename",children:e.name}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(t){return n(Ne.changeCourseBackgroundColor({id:e.id,color:t.target.value}))}}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select font color",title:"Select font color",value:e.fontColor,onChange:function(t){return n(Ne.changeCourseFontColor({id:e.id,color:t.target.value}))}})]},e.id)}));return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Customization \ud83e\uddd0"}),Object(u.jsx)("img",{alt:"guide to customization timetable",src:"./img/custom_guide.png",className:"configure__guidepic"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({backgroundColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Font"}),Object(u.jsx)("select",{className:"configure__iteminput","aria-label":"Select font style for timetable",title:"Select font style for timetable",value:e.fontFamily,onChange:function(e){return n(Ne.modifyCustomConfiguration({fontFamily:e.target.value}))},children:_e.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Color",title:"Select Label Grid Color",value:e.labelGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid Color",title:"Select Timegrid Color",value:e.timeGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Font Color",title:"Select Label Grid Font Color",value:e.labelGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid font color 2",title:"Select Timegrid font color 2",value:e.timeGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Odd Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select odd row colors",title:"Select odd row colors",value:e.oddRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({oddRowColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Even Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select even row colors",title:"Select even row colors",value:e.evenRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({evenRowColor:e.target.value}))}})]})]}),Object(u.jsx)("ul",{className:"configure__grp",children:i})]})};function Te(e){e(2),A(".creation")}var Fe=function(e){var t=e.setState;return Object(u.jsxs)("section",{className:"generate__section configure",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 2: Customize Timetable \u2699\ufe0f"}),Object(u.jsx)("p",{className:"generate__desc",children:"Try changing the theme! or perhaps be artistic and set everything yourself?"}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3 - Generate Timetable",title:"Proceed to Step 3 - Create Timetable",className:"configure__btn configure__btnskip",onClick:function(){return Te(t)},children:"Skip \ud83d\udca8"}),Object(u.jsx)(Se,{}),Object(u.jsx)(we,{}),Object(u.jsx)(ke,{}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3 - Generate Timetable",title:"Proceed to Step 3 - Create Timetable",className:"configure__btn configure__btnproceed",onClick:function(){return Te(t)},children:"Proceed \ud83d\udcaa"})]})},Me={default:{theme:"default",backgroundColor:"#ffffff",labelGridColor:"#7f8082",timeGridColor:"#70ad46",oddRowColor:"#c6e0b3",evenRowColor:"#a9d08f",fontFamily:"Roboto",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#3498db","#6ab04c","#e74c3c","#9b59b6","#34495e","#f1c40f","#3a40b6","#2ecc71","#e67e22","#686de0"],courseFontColors:["#ffffff"]},futuristic:{theme:"futuristic",backgroundColor:"#2ecc71",labelGridColor:"#000000",timeGridColor:"#000000",oddRowColor:"#1b242e",evenRowColor:"#212d3b",fontFamily:"Orbitron",labelGridFontColor:"#29e679",timeGridFontColor:"#29e679",courseBackgroundColors:["#000000"],courseFontColors:["#29e679"]},cuteness:{theme:"cuteness",backgroundColor:"#ffffff",labelGridColor:"#ff7199",timeGridColor:"#ff7199",oddRowColor:"#ffbada",evenRowColor:"#ffe2ea",fontFamily:"Grandstander",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#ff90c3"],courseFontColors:["#ffffff"]},spidey:{theme:"spidey",backgroundColor:"#cccee3",labelGridColor:"#0861a3",timeGridColor:"#0268d7",oddRowColor:"#ca141d",evenRowColor:"#b31219",fontFamily:"Marvel",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#8f0505"],courseFontColors:["#ffffff"]},nature:{theme:"nature",backgroundColor:"#392c1d",labelGridColor:"#55422b",timeGridColor:"#907a48",oddRowColor:"#4f6336",evenRowColor:"#4b6b3c",fontFamily:"Cantora One",labelGridFontColor:"#e6deb9",timeGridFontColor:"#3b2e1e",courseBackgroundColors:["#d4bf88"],courseFontColors:["#3b2e1e"]}};function Ge(e,t){return t.isCustom?function(e,t){var n=[];for(var o in e)if(!isNaN(o)){var a=e[o],i=a.id,c=a.courseName,r=a.lecturerName,s=a.courseCode,l=t.courseColors[i]||t.defaultCustomCourseColors,u=l.fontColor,d=l.backgroundColor;for(var m in a.timeslots)if(!isNaN(m)){var f=a.timeslots[m],b=f.dayOfWeek,j=f.startTime,h=f.endTime;n.push({name:c,lecturer:r,code:s,dayOfWeek:b,startTime:j,endTime:h,theme:"custom",backgroundColor:d,fontColor:u})}}return n}(e,t):function(e,t){var n=[],o=0,a=t.theme,i=t.courseBackgroundColors,c=t.courseFontColors;for(var r in e)if(!isNaN(r)){var s=e[r],l=s.courseName,u=s.lecturerName,d=s.courseCode;for(var m in s.timeslots)if(!isNaN(m)){var f=s.timeslots[m],b=f.dayOfWeek,j=f.startTime,h=f.endTime;n.push({name:l,lecturer:u,code:d,dayOfWeek:b,startTime:j,endTime:h,theme:a,backgroundColor:i[o%i.length],fontColor:c[o%c.length]})}++o}return n}(e,t)}var De=n(20);function ze(e,t){e.add(new De.a.Rect(Object(O.a)({preventDefault:!1},t)))}function We(e,t){e.add(new De.a.Text(Object(O.a)({preventDefault:!1,align:"center",verticalAlign:"middle"},t)))}function Ae(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=e.grid,o=n.gridWidth,a=n.gridHeight,i=n.gap,c=t.oddRowColor,r=t.evenRowColor,s=t.backgroundColor,l=25*o+26*i,u=8*a+9*i,d=new De.a.Layer;ze(d,{fill:s,width:l,height:u});for(var m=0;m<8;++m)for(var f=0;f<25;++f)ze(d,{fill:1&m?c:r,width:o,height:a,x:i+(o+i)*f,y:i+(a+i)*m});return d}(e,t):function(e,t){var n=e.grid,o=n.gridWidth,a=n.gridHeight,i=n.gap,c=t.oddRowColor,r=t.evenRowColor,s=t.backgroundColor,l=8*o+9*i,u=25*a+26*i,d=new De.a.Layer;ze(d,{fill:s,width:l,height:u});for(var m=0;m<25;++m)for(var f=0;f<8;++f)ze(d,{fill:1&f?c:r,width:o,height:a,x:i+(o+i)*f,y:i+(a+i)*m});return d}(e,t)}function Pe(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=new De.a.Layer;return function(e,t,n){var o=t.general,a=o.weekends,i=o.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+r)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==a)&&(5!==n||"fri/sat"!==a)&&(6!==n||"all"===a)){var o=l+(l+s)*(n+1);ze(e,{fill:d,x:b,y:o,width:r,height:s}),We(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:b,y:o,width:r,height:s})}}))}(n,e,t),function(e,t,n){var o=t.general,a=o.weekends,i=o.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,j="sat/sun"===a?l+s+l:l,h=l+(r+l)*i;ze(e,{x:h,y:j,width:r,height:s,fill:d});var g=j+s/2+l/2,O=s/2-l/2;ze(e,{fill:m,x:h,y:j,width:r,height:O}),We(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:j,width:r,height:O}),ze(e,{fill:m,x:h,y:g,width:r,height:O}),We(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:g,width:r,height:O})}(n,e,t),function(e,t,n){for(var o=t.general,a=o.weekends,i=o.timeframeBegin,c=o.timeframeEnd,r=t.grid,s=r.gridWidth,l=r.gridHeight,u=r.gap,d=r.courseNameFontSize,m=n.backgroundColor,f=n.timeGridColor,b=n.timeGridFontColor,j=n.fontFamily,h=.75*d,g="sat/sun"===a?2*u+l:u,O=g+l/2+u/2,p=l/2-u/2,x=i;x<c;++x){var v=u+(x+1)*(u+s);ze(e,{fill:m,x:v,y:g,height:l,width:s}),ze(e,{fill:f,x:v,y:g,height:p,width:s}),We(e,{text:"".concat(z(x),"\n").concat(z(x+1)),fontFamily:j,fontSize:h,fill:b,x:v,y:g,height:p,width:s,lineHeight:1.6}),ze(e,{fill:f,x:v,y:O,height:p,width:s}),We(e,{text:"".concat(W(x)),fontFamily:j,fontSize:d,fontStyle:"bold",fill:b,x:v,y:O,height:p,width:s})}}(n,e,t),n}(e,t):function(e,t){var n=new De.a.Layer;return function(e,t,n){var o=t.general,a=o.weekends,i=o.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+s)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==a)&&(5!==n||"fri/sat"!==a)&&(6!==n||"all"===a)){var o=l+(l+r)*(n+1);ze(e,{fill:d,x:o,y:b,width:r,height:s}),We(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:o,y:b,width:r,height:s})}}))}(n,e,t),function(e,t,n){var o=t.general,a=o.weekends,i=o.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,j="sat/sun"===a?l+r+l:l,h=l+(s+l)*i;ze(e,{x:j,y:h,width:r,height:s,fill:d});var g=h+s/2+l/2,O=s/2-l/2;ze(e,{fill:m,x:j,y:h,width:r,height:O}),We(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:h,width:r,height:O}),ze(e,{fill:m,x:j,y:g,width:r,height:O}),We(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:g,width:r,height:O})}(n,e,t),function(e,t,n){for(var o=t.general,a=o.weekends,i=o.timeframeBegin,c=o.timeframeEnd,r=t.grid,s=r.gridWidth,l=r.gridHeight,u=r.gap,d=r.courseNameFontSize,m=n.timeGridColor,f=n.timeGridFontColor,b=n.fontFamily,j=.75*d,h="sat/sun"===a?2*u+s:u,g=.25*l,O=i;O<c;++O){var p=u+(O+1)*(u+l),x=p+.75*l;ze(e,{fill:m,x:h,y:p,height:l,width:s}),We(e,{text:"".concat(z(O),"\n").concat(z(O+1)),fontFamily:b,fontSize:j,fill:f,x:h,y:p,height:l-g,width:s,lineHeight:1.6}),We(e,{text:"".concat(W(O)),fontFamily:b,fontSize:d,fontStyle:"bold",fill:f,x:h,y:x,height:g,width:s})}}(n,e,t),n}(e,t)}var Ie=n(42);function Ee(e,t,n){return"horizontal"===e.general.orientation?function(e,t,n){var o,a=new De.a.Layer,i=e.grid,c=i.gridWidth,r=i.gridHeight,s=i.gap,l=Object(Ie.a)(n);try{for(l.s();!(o=l.n()).done;){var u=o.value,d=u.dayOfWeek,m=u.startTime;Le(a,u,t,e,s+(m+1)*(s+c),s+(d+1)*(s+r),(u.endTime-m)*(c+s)-s,r)}}catch(f){l.e(f)}finally{l.f()}return a}(e,t,n):function(e,t,n){var o,a=new De.a.Layer,i=e.grid,c=i.gridWidth,r=i.gridHeight,s=i.gap,l=Object(Ie.a)(n);try{for(l.s();!(o=l.n()).done;){var u=o.value,d=u.dayOfWeek,m=u.startTime;Le(a,u,t,e,s+(d+1)*(s+c),s+(m+1)*(s+r),c,(u.endTime-m)*(r+s)-s)}}catch(f){l.e(f)}finally{l.f()}return a}(e,t,n)}function Le(e,t,n,o,a,i,c,r){var s=t.lecturer&&t.code?[.6,.2,.2]:t.lecturer?[.75,.25,0]:t.code?[.75,0,.25]:[1,0,0],l=o.grid,u=l.courseNameFontSize,d=l.lecturerNameFontSize,m=l.courseCodeFontSize,f=r*s[0],b=r*s[1],j=r*s[2];ze(e,{x:a,y:i,width:c,height:r,fill:t.backgroundColor}),We(e,{x:a,y:i,width:c,height:f,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:u,text:t.name,fontStyle:"bold"}),We(e,{x:a,y:i+f,width:c,height:b,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:d,text:t.lecturer,fontStyle:"bold"}),We(e,{x:a,y:i+f+b,width:c,height:j,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:m,text:t.code})}function Re(e,t,n){var o=document.createElement("div"),a=function(e){return"custom"===e.general.theme?e.custom:Me[e.general.theme]}(n),i=Ge(t,a),c=function(e,t){var n=t.general.orientation,o=t.grid,a=o.gridWidth,i=o.gridHeight,c=o.gap;if("horizontal"===n){var r=25*a+26*c,s=8*i+9*c;return new De.a.Stage({container:e,width:r,height:s})}var l=8*a+9*c,u=25*i+26*c;return new De.a.Stage({container:e,width:l,height:u})}(o,n);c.add(Ae(n,a)),c.add(Pe(n,a)),c.add(Ee(n,a,i));var r=function(e,t){return"horizontal"===t.general.orientation?function(e,t){var n=t.grid,o=n.gridWidth,a=n.gridHeight,i=n.gap,c=t.general,r=c.weekends,s=c.timeframeBegin,l="sat/sun"===r?i+a:0,u="all"===r?8*a+9*i:6*a+7*i,d=(i+o)*s,m=i+(c.timeframeEnd-s+1)*(o+i);return e.toDataURL({x:d,y:l,width:m,height:u})}(e,t):function(e,t){var n=t.grid,o=n.gridWidth,a=n.gridHeight,i=n.gap,c=t.general,r=c.weekends,s=c.timeframeBegin,l="sat/sun"===r?i+o:0,u="all"===r?8*o+9*i:6*o+7*i,d=(i+a)*s,m=i+(c.timeframeEnd-s+1)*(a+i);return e.toDataURL({x:l,y:d,width:u,height:m})}(e,t)}(c,n);e.src=r}var Be=function(){var e=Object(l.c)((function(e){return e.config})),t=Object(l.c)((function(e){return e.classCourses})),n=Object(o.useState)(!1),a=Object(f.a)(n,2),i=a[0],c=a[1],r=Object(o.useRef)(null);return Object(u.jsxs)("section",{className:"generate__section creation",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 3: Creation \ud83c\udf87"}),Object(u.jsx)("p",{className:"generate__desc",children:"Minor lag spike incoming (Don't worry it's normal)"}),Object(u.jsxs)("div",{className:"creation__btngrp",children:[Object(u.jsx)("button",{className:"creation__btn creation__create",type:"button","aria-label":"Create timetable",title:"Create timetable",onClick:function(){return function(e,t,n,o){e(!0),Re(t.current,n,o),A(".creation")}(c,r,t,e)},children:"Create"}),i?Object(u.jsx)("button",{className:"creation__btn creation__png",type:"button","aria-label":"Download timetable as png image",title:"Download timetable as png image",onClick:function(){return function(e){var t=document.createElement("a");t.href=e.current.src,t.download="timetable.png",t.click()}(r)},children:"Download png"}):null,i?Object(u.jsx)("button",{className:"creation__btn creation__newtab",type:"button","aria-label":"Open timetable in new tab",title:"Open timetable in new tab",onClick:function(){return function(e){var t=window.open("");t.document.write(e.current.outerHTML),t.document.close()}(r)},children:"Open in new tab"}):null]}),Object(u.jsx)("div",{className:"creation__view",children:Object(u.jsx)("img",{className:"creation__img",alt:"generated timetable",id:"timetable-img",ref:r,style:i?null:{display:"none"}})})]})};var He=function(){var e=Object(o.useState)(0),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Generate Timetable \ud83c\udfed"}),Object(u.jsx)("p",{className:"main__desc",children:"Here, you check clashes, customize, and finally generate your timetable"}),n>=0?Object(u.jsx)(pe,{setState:a}):null,n>=1?Object(u.jsx)(Fe,{setState:a}):null,n>=2?Object(u.jsx)(Be,{}):null]})})};var Je=function(){var e=Object(o.useState)([{page:0,content:""}]),t=Object(f.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(0),c=Object(f.a)(i,2),r=c[0],s=c[1],d=Object(l.b)();return Object(o.useEffect)((function(){d(ne()),d(re()),fetch("./data/tutorial.json").then((function(e){return e.json()})).then((function(e){a(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),d(S({type:"danger",message:"Error occurred while fetching tutorials. See console for more info"})),d(N())})).finally((function(){d(oe()),d(se())}))}),[d]),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Tutorial \ud83d\udcda"}),Object(u.jsxs)("div",{className:"tutorial__btngrp",children:[Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__prev",onClick:function(){return s(Math.max(0,r-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-left"})}),"Page ",r+1," of ",n.length,Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__next",onClick:function(){return s(Math.min(r+1,n.length-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-right"})})]}),Object(u.jsx)(Z.a,{className:"tutorial__markdown",children:n[r].content,rehypePlugins:[$.a]})]})})};function Ue(e){var t=e.course,n=Object(l.b)();return Object(u.jsxs)("li",{className:"catalog--item",children:[Object(u.jsx)("h4",{className:"catalog--item--name",children:t.name}),Object(u.jsx)("p",{className:"catalog--item--code",children:t.code}),Object(u.jsx)("button",{className:"catalog--item--addtocart",onClick:function(){return function(e,t){e(_.addCourseToSections(t)),e(S({type:"success",message:'Successfully added "'.concat(t.name,'" - ').concat(t.code," into Sections 2\ufe0f\u20e3!")})),e(N())}(n,t)},children:Object(u.jsx)("i",{className:"fas fa-plus"})})]})}var qe=Object(o.memo)(Ue);var Ve=function(e){var t=e.url,n=Object(l.b)(),a=Object(o.useState)(""),i=Object(f.a)(a,2),c=i[0],r=i[1],s=Object(o.useState)({}),d=Object(f.a)(s,2),m=d[0],b=d[1];Object(o.useEffect)((function(){n(ne()),n(re()),fetch(t).then((function(e){return e.json()})).then((function(e){b(e),n(S({type:"success",message:"Succesfully fetched ".concat(Object.keys(e).length," course(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),n(S({type:"danger",message:"Error occurred while fetching courses. See console for more info"}))})).finally((function(){n(N()),n(oe()),n(se())}))}),[t,n]);var j=[],h=new RegExp(c,"gi");for(var g in m){var O=m[g];(!c.length||h.test(O.name)||h.test(O.code))&&j.push(Object(u.jsx)(qe,{course:O},O.id))}return Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("h4",{className:"courses--title",children:"Step 2: Select Courses"}),Object(u.jsx)("input",{type:"text","aria-label":"search/filter bar",value:c,className:"catalog--search",placeholder:"Search...",onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("ul",{className:"catalog--list",children:j})]})};var Qe=function(){var e=Object(o.useState)([]),t=Object(f.a)(e,2),n=t[0],a=t[1],i=Object(o.useState)(""),c=Object(f.a)(i,2),s=c[0],d=c[1],m=Object(l.b)();return Object(o.useEffect)((function(){m(ne()),m(re()),fetch("./data/school_list.json").then((function(e){return e.json()})).then((function(e){e=e.sort((function(e,t){return e.name<t.name?-1:1})),a(e),m(S({type:"success",message:"Succesfully fetched ".concat(e.length," school(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),m(S({type:"danger",message:"Error occurred while fetching list of schools. See console for more info"}))})).finally((function(){m(N()),m(oe()),m(se())}))}),[m]),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper courses",children:[Object(u.jsx)("h2",{className:"main__title",children:"UTM Courses \ud83d\udcda"}),Object(u.jsxs)("p",{className:"main__desc",children:["Select from readily available UTM courses, which you can choose your section later in ",Object(u.jsx)("strong",{children:Object(u.jsx)(r.b,{to:"/sections",children:"Sections 2\ufe0f\u20e3"})})," page"]}),Object(u.jsx)("h4",{className:"courses--title",children:"Step 1: Select School/Faculty"}),Object(u.jsxs)("p",{className:"courses--desc",children:["Doesn't see your school/faculty listed? Incorrect course information?",Object(u.jsx)("a",{href:"https://forms.gle/YhgPcBSBCoiDipQk6",target:"_blank",rel:"noopener noreferrer",children:" Send Feedback"})]}),Object(u.jsxs)("select",{"aria-label":"Select school/faculty",value:s,className:"courses--select",onChange:function(e){return d(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"",children:" -- select an option -- "}),n.map((function(e){return Object(u.jsx)("option",{value:e.url,children:e.name},e.name)}))]}),""!==s?Object(u.jsx)(Ve,{url:s}):null]})})};var Ye=function(){var e=Object(l.b)();return Object(o.useEffect)((function(){e(S({type:"primary",message:"Welcome! If you are new here, you can click tutorial button on top-right corner!"})),e(N())}),[e]),Object(u.jsxs)(r.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(d,{}),Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"min-height-screen-height",children:[Object(u.jsx)(j,{}),Object(u.jsx)(h,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{path:"/courses",children:Object(u.jsx)(Qe,{})}),Object(u.jsx)(s.a,{path:"/sections",children:Object(u.jsx)(X,{})}),Object(u.jsx)(s.a,{path:"/classes",children:Object(u.jsx)(he,{})}),Object(u.jsx)(s.a,{path:"/generate",children:Object(u.jsx)(He,{})}),Object(u.jsx)(s.a,{path:"/tutorial",children:Object(u.jsx)(Je,{})}),Object(u.jsx)(s.a,{path:"/",children:Object(u.jsx)(ue,{})})]})]}),Object(u.jsx)(g,{})]})},Ke=Object(p.a)({reducer:{balloon:w,blindfold_showing:ae,loadingScreen_showing:le,config:ye,classCourses:V,sections:C}});n(116);c.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(l.a,{store:Ke,children:Object(u.jsx)(Ye,{})})}),document.getElementById("root"))}},[[117,1,2]]]);
//# sourceMappingURL=main.8a5401cc.chunk.js.map