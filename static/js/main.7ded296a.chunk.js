(this["webpackJsonputm-timetable-generator-v2"]=this["webpackJsonputm-timetable-generator-v2"]||[]).push([[0],{114:function(e,t,n){},115:function(e,t,n){"use strict";n.r(t);var a=n(2),o=n.n(a),i=n(48),c=n.n(i),r=n(19),s=n(17),l=n(9),u=n(0);var d=function(){var e=Object(l.c)((function(e){return e.balloon})),t=e.shownCount,n=e.type,a=e.message;return Object(u.jsx)("div",{className:"balloon ".concat(n," ").concat(t?"shown":""),children:a})};var m=function(){var e=Object(l.c)((function(e){return e.blindfold_showing}));return Object(u.jsx)("div",{className:"blindfold ".concat(e?"shown":"")})},f=n(14);var b=function(){var e=Object(l.c)((function(e){return e.loadingScreen_showing})),t=Object(a.useState)(["Loading..."]),n=Object(f.a)(t,2),o=n[0],i=n[1],c=Math.floor(Math.random()*o.length);return Object(a.useEffect)((function(){fetch("./data/loading-quotes.json").then((function(e){return e.json()})).then((function(e){return i(e)})).catch((function(e){console.error("Failed to fetch loading screen quotes from ./data/loading-quotes.json")}))}),[]),Object(u.jsxs)("div",{className:"loadScreen ".concat(e?"shown":""),children:[Object(u.jsx)("h4",{className:"loadScreen__title",children:"Loading \u231b\ufe0f"}),Object(u.jsxs)("p",{className:"loadScreen__quote",children:[" ",o[c]," "]}),Object(u.jsx)("i",{className:"fab fa-github-alt loadScreen__logo"})]})};var j=function(){return Object(u.jsxs)("header",{className:"header container-padded",children:[Object(u.jsx)("img",{className:"header__logo",alt:"Logo Universiti Tekonologi Malaysia",src:"./img/utm_logo.png"}),Object(u.jsx)("h1",{className:"header__title",children:"UTM Timetable Generator V2"}),Object(u.jsx)(r.b,{role:"button",title:"Venue",to:"/venue",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-map-marker-alt"})}),Object(u.jsx)(r.b,{role:"button",title:"Announcements",to:"/",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-bullhorn"})}),Object(u.jsx)(r.b,{role:"button",title:"View Tutorial",to:"/tutorial",className:"header__button",children:Object(u.jsx)("i",{className:"fas fa-question"})})]})};var h=function(){var e=Object(s.f)().pathname;return Object(u.jsxs)("nav",{className:"nav container",children:[Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/courses"===e,to:"/courses",children:"Courses 1\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/sections"===e,to:"/sections",children:"Sections 2\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/classes"===e,to:"/classes",children:"Classes 3\ufe0f\u20e3"}),Object(u.jsx)(r.b,{className:"nav-link","data-selected":"/generate"===e,to:"/generate",children:"Generate 4\ufe0f\u20e3"})]})};var g=function(){return Object(u.jsxs)("footer",{className:"footer",children:[Object(u.jsxs)("a",{"aria-label":"Link to github account",href:"https://github.com/AdmiJW/UTM-Timetable-Generator-V2/issues",target:"_blank",rel:"noreferrer noopener",className:"footer__card",children:[Object(u.jsx)("p",{className:"footer__card__text",children:"Support"}),Object(u.jsx)("i",{className:"fab fa-github-alt footer__card__logo"})]}),Object(u.jsx)("p",{className:"footer__desc",children:"An open source project"})]})},O=n(12),p=n(18),x=Object(p.b)("sections/removeCourseFromSections",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),1e3)}))})),v=Object(p.c)({name:"sections",initialState:{meta:{nextID:0}},reducers:{addCourseToSections:function(e,t){e[e.meta.nextID++]=Object.assign({isAnimatingDelete:!1},t.payload)}},extraReducers:function(e){e.addCase(x.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(x.fulfilled,(function(e,t){delete e[t.payload]}))}}),_=Object(O.a)(Object(O.a)({},v.actions),{},{removeCourseFromSections:x}),C=v.reducer,y=Object(p.b)("balloon/showBalloon",(function(e,t){return new Promise((function(e){return window.setTimeout(e,5e3)}))})),N=Object(p.c)({name:"balloon",initialState:{shownCount:0,type:"primary",message:""},reducers:{setTypeAndMessage:function(e,t){var n=t.payload,a=n.type,o=n.message;e.type=a,e.message=o}},extraReducers:function(e){e.addCase(y.pending,(function(e){++e.shownCount})),e.addCase(y.fulfilled,(function(e){--e.shownCount})),e.addCase(y.rejected,(function(e,t){return console.log(t)}))}}),S=N.actions.setTypeAndMessage,w=N.reducer,k=n(66),F=n(46),T=n.n(F),M=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],G=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function z(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t?M[e]:G[e]}function D(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"".concat(e.padStart(2,"0"),":00");var n=e%12,a=e/12;return"".concat(0===n?"12":n).concat(a>=1?":00PM":":00AM")}function W(e){return e<7?"-":"".concat(e-6).padStart(2,"0")}var P=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelector(".main--scrollable-wrapper");window.setTimeout((function(){if(e){var n=document.querySelector(e);t.scrollTop=n.offsetTop}else t.scrollTop=t.scrollHeight}),100)},I="classCourses",A=function(e){return{id:e,courseName:"Course Name Here",lecturerName:"Lecturer Name Here",courseCode:"Course Code Here",isAnimatingDelete:!1,timeslots:{nextID:0}}},E=function(e){return{id:e,dayOfWeek:0,startTime:8,endTime:9,venue:"",isAnimatingDelete:!1}};var L=Object(p.b)(I+"/deleteCourse",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),R=Object(p.b)(I+"/deleteTimeslot",(function(e){return new Promise((function(t){return window.setTimeout((function(){return t(e)}),500)}))})),B=Object(p.b)(I+"/saveCoursesToLocalStorage",function(){var e=Object(k.a)(T.a.mark((function e(t,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{window.localStorage.setItem("app-version","1.0.0"),window.localStorage.setItem("saved-state",JSON.stringify(n.getState().classCourses)),n.dispatch(S({type:"success",message:"Successfully saved courses into local storage!"})),n.dispatch(y())}catch(t){n.dispatch(S({type:"danger",message:"Failed to save courses into local storage. See console for more info!"})),n.dispatch(y()),console.error(t)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),H=Object(p.b)(I+"/loadCoursesFromLocalStorage",function(){var e=Object(k.a)(T.a.mark((function e(t,n){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,window.localStorage.getItem("saved-state")){e.next=3;break}throw new Error("not-found");case 3:return"1.0.0"!==window.localStorage.getItem("app-version")&&console.warn("The saved data in local storage has different application version number than the current application version"),a=JSON.parse(localStorage.getItem("saved-state")),n.dispatch(S({type:"success",message:"Successfully loaded courses from local storage!"})),n.dispatch(y()),e.abrupt("return",a);case 10:e.prev=10,e.t0=e.catch(0),"not-found"===e.t0.message?(n.dispatch(S({type:"warning",message:"No previous save data found in local storage."})),n.dispatch(y())):(n.dispatch(S({type:"danger",message:"Failed to load courses from local storage. See console for more info!"})),n.dispatch(y()),console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),J={addBlankCourse:function(e){var t=e.nextID++;e[t]=A(t),P()},addCourseFromSections:function(e,t){var n=t.payload,a=e.nextID++,o=function(e,t){var n=A(t);for(var a in n.courseName=e.name,n.lecturerName=e.lecturer,n.courseCode=e.code+" - Section "+e.section,e.times){var o=e.times[a],i=n.timeslots.nextID++,c=E(i);c.dayOfWeek=o.dayOfWeek,c.startTime=o.beginTime,c.endTime=o.endTime,c.venue=o.venue||"",n.timeslots[i]=c}return n}(n,a);e[a]=o},changeCourseName:function(e,t){var n=t.payload,a=n.id,o=n.newCourseName;e[a].courseName=o},changeLecturerName:function(e,t){var n=t.payload,a=n.id,o=n.newLecturerName;e[a].lecturerName=o},changeCourseCode:function(e,t){var n=t.payload,a=n.id,o=n.newCourseCode;e[a].courseCode=o},addTimeslot:function(e,t){var n=t.payload,a=e[n].timeslots.nextID++;e[n].timeslots[a]=E(a)},changeTimeslotDayOfWeek:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.dayOfWeek;e[a].timeslots[o].dayOfWeek=Number(i)},changeTimeslotStartTime:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.startTime;e[a].timeslots[o].startTime=Number(i),e[a].timeslots[o].endTime=Math.max(Number(i)+1,e[a].timeslots[o].endTime)},changeTimeslotEndTime:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.endTime;e[a].timeslots[o].endTime=Number(i)},changeTimeslotVenue:function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID,i=n.venue;e[a].timeslots[o].venue=i}},V=Object(p.c)({name:"classCourses",initialState:{nextID:0},reducers:J,extraReducers:function(e){e.addCase(L.pending,(function(e,t){e[t.meta.arg].isAnimatingDelete=!0})),e.addCase(L.fulfilled,(function(e,t){delete e[t.payload]})),e.addCase(R.pending,(function(e,t){var n=t.meta.arg,a=n.courseID,o=n.timeslotID;e[a].timeslots[o].isAnimatingDelete=!0})),e.addCase(R.fulfilled,(function(e,t){var n=t.payload,a=n.courseID,o=n.timeslotID;delete e[a].timeslots[o]})),e.addCase(H.fulfilled,(function(e,t){return t.payload}))}}),U=Object(O.a)(Object(O.a)({},V.actions),{},{deleteCourse:L,deleteTimeslot:R,saveCoursesToLocalStorage:B,loadCoursesFromLocalStorage:H}),q=V.reducer;var Y=function(e){var t=e.name,n=e.code,a=e.section,o=Object(l.b)(),i=[];for(var c in a.times){var r=a.times[c];i.push(Object(u.jsxs)("li",{className:"sectionstime",children:["\ud83d\udc49 ",Object(u.jsx)("strong",{children:z(r.dayOfWeek,!1)})," From\xa0",Object(u.jsx)("strong",{children:D(r.beginTime)})," To\xa0",Object(u.jsx)("strong",{children:D(r.endTime)}),"\xa0",r.venue?Object(u.jsxs)("strong",{children:["(",r.venue,")"]}):null]},c))}return Object(u.jsxs)("li",{className:"sectionssection",children:[Object(u.jsxs)("div",{className:"sectionssection--meta",children:[Object(u.jsxs)("p",{className:"sectionssection--section",children:["Sec ",a.section," ",a.program?"(".concat(a.program,")"):""]}),Object(u.jsx)("p",{className:"sectionssection--lecturer",children:a.lecturer}),Object(u.jsx)("p",{className:"sectionssection--capacity",children:a.capacity&&0!==a.capacity?"Capacity: ".concat(a.capacity):""})]}),Object(u.jsx)("ol",{className:"sectionssection--times",children:i}),Object(u.jsx)("button",{type:"button",className:"sectionssection--enroll","aria-label":"Select this section of course",title:"Select this section",onClick:function(){return function(e,t,n,a){var o={name:t,code:n,section:a.section,lecturer:a.lecturer,times:a.times};e(U.addCourseFromSections(o)),e(S({type:"success",message:"Added ".concat(n," - Section ").concat(a.section," to Classes 3\ufe0f\u20e3!")})),e(y())}(o,t,n,a)},children:"Add to Classes"})]})};function X(e){var t=e.id,n=e.course,a=Object(l.b)(),o=[];for(var i in n.sections){var c=n.sections[i];o.push(Object(u.jsx)(Y,{name:n.name,code:n.code,section:c},i))}return Object(u.jsxs)("li",{className:"sectionscourse ".concat(n.isAnimatingDelete?"removing":""),children:[Object(u.jsxs)("div",{className:"sectionscourse--meta",children:[Object(u.jsx)("p",{className:"sectionscourse--name",children:n.name}),Object(u.jsx)("p",{className:"sectionscourse--code",children:n.code}),Object(u.jsx)("button",{type:"button",className:"sectionscourse--delete","aria-label":"Remove this course from sections",title:"Remove this course from sections",onClick:function(){return a(_.removeCourseFromSections(t))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]}),Object(u.jsx)("ul",{className:"sectionscourse--sections",children:o})]})}var K=Object(a.memo)(X);var Q=function(){var e=Object(l.c)((function(e){return e.sections})),t=[];for(var n in e)isNaN(n)||t.push(Object(u.jsx)(K,{id:n,course:e[n]},n));return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h4",{className:"main__title",children:"Sections \ud83d\udcee"}),Object(u.jsxs)("p",{className:"main__desc",children:["From the courses you've added from ",Object(u.jsx)(r.b,{to:"/courses",children:"Courses 1\ufe0f\u20e3"}),", select your section.",Object(u.jsx)("br",{}),"The section will be added to ",Object(u.jsx)(r.b,{to:"/classes",children:"Classes 3\ufe0f\u20e3"})," page."]}),Object(u.jsx)("ul",{className:"sections--list",children:t})]})})},Z=n(11),$=n(123),ee=n(40),te=Object(p.c)({name:"blindfold_showing",initialState:!1,reducers:{showBlindfold:function(){return!0},hideBlindfold:function(){return!1}}}),ne=te.actions,ae=ne.showBlindfold,oe=ne.hideBlindfold,ie=te.reducer,ce=Object(p.c)({name:"loadingScreen_showing",initialState:!1,reducers:{showLoadingScreen:function(){return!0},hideLoadingScreen:function(){return!1}}}),re=ce.actions,se=re.showLoadingScreen,le=re.hideLoadingScreen,ue=ce.reducer;var de=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(l.b)();Object(a.useEffect)((function(){i(ae()),i(se()),fetch("./data/announcement.json").then((function(e){return e.json()})).then((function(e){return Promise.all(Object(Z.a)(e.map((function(e){return fetch(e)}))))})).then((function(e){return Promise.all(Object(Z.a)(e.map((function(e){return e.text()}))))})).then((function(e){return o(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),i(S({type:"danger",message:"Error occurred while fetching announcements. See console for more info"})),i(y())})).finally((function(){i(oe()),i(le())}))}),[i]);var c=n.map((function(e,t){return Object(u.jsx)("article",{className:"announcement",children:Object(u.jsx)($.a,{className:"announcement--content",children:e,rehypePlugins:[ee.a]})},t)}));return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Announcements \ud83d\udce1"}),Object(u.jsx)("h4",{className:"main__subtitle",children:"( Tutorial is on the top right corner \u2197\ufe0f )"}),c]})})};function me(e){var t=Object(l.b)(),n=e.courseID,a=e.timeslot,o=a.id,i=a.dayOfWeek,c=a.startTime,r=a.endTime,s=a.venue,d=a.isAnimatingDelete;return Object(u.jsxs)("li",{className:"class__timeslotitem ".concat(d?"deleting":""),children:[Object(u.jsx)("button",{type:"button","aria-label":"Discard this timeslot",label:"Discard this timeslot",className:"class__timeslotitem--discardbtn",onClick:function(){return t(U.deleteTimeslot({courseID:n,timeslotID:o}))},children:Object(u.jsx)("i",{className:"fas fa-times"})}),Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--dayOfWeek",value:i,onChange:function(e){return t(U.changeTimeslotDayOfWeek({courseID:n,timeslotID:o,dayOfWeek:e.target.value}))},children:[Object(u.jsx)("option",{value:"0",children:"Sunday"}),Object(u.jsx)("option",{value:"1",children:"Monday"}),Object(u.jsx)("option",{value:"2",children:"Tuesday"}),Object(u.jsx)("option",{value:"3",children:"Wednesday"}),Object(u.jsx)("option",{value:"4",children:"Thursday"}),Object(u.jsx)("option",{value:"5",children:"Friday"}),Object(u.jsx)("option",{value:"6",children:"Saturday"})]}),Object(u.jsxs)("div",{className:"class__timeslot--timegrp",children:[Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--startTime",value:c,onChange:function(e){return t(U.changeTimeslotStartTime({courseID:n,timeslotID:o,startTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"To",Object(u.jsxs)("select",{className:"class__timeslot--select class__timeslot--endTime",value:r,onChange:function(e){return t(U.changeTimeslotEndTime({courseID:n,timeslotID:o,endTime:e.target.value}))},children:[Object(u.jsx)("option",{value:"9",disabled:c>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:c>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:c>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:c>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:c>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:c>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:c>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:c>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:c>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:c>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:c>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:c>19,children:"14 (8:00 PM)"})]})]}),Object(u.jsx)("input",{type:"text",className:"class__timeslot--venue",placeholder:"Enter Venue Here",value:s,onChange:function(e){return t(U.changeTimeslotVenue({courseID:n,timeslotID:o,venue:e.target.value}))}})]})}var fe=Object(a.memo)(me);function be(e){var t=e.course,n=t.id,o=t.courseName,i=t.lecturerName,c=t.courseCode,r=t.timeslots,s=t.isAnimatingDelete,d=Object(l.b)(),m=Object(a.useRef)(),f=Object(a.useRef)(),b=Object(a.useRef)();Object(a.useEffect)((function(){m.current.innerText=o,f.current.innerText=i,b.current.innerText=c}),[]);var j=[];for(var h in r)if("nextID"!==h){var g=r[h];j.push(Object(u.jsx)(fe,{courseID:n,timeslot:g},g.id))}return Object(u.jsxs)("li",{className:"class__courseitem ".concat(s?"deleting":""),"data-nth":n%10,children:[Object(u.jsxs)("div",{className:"class__courseitem--meta",children:[Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--coursename",onInput:function(){return d(U.changeCourseName({id:n,newCourseName:m.current.innerText}))},ref:m,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--lecturername",onInput:function(){return d(U.changeLecturerName({id:n,newLecturerName:f.current.innerText}))},ref:f,suppressContentEditableWarning:!0}),Object(u.jsx)("div",{role:"textbox",contentEditable:!0,className:"class__courseitem--input class__courseitem--coursecode",onInput:function(){return d(U.changeCourseCode({id:n,newCourseCode:b.current.innerText}))},ref:b,suppressContentEditableWarning:!0}),Object(u.jsxs)("div",{className:"class__courseitem--btn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Add new time slot",title:"Add new time slot",className:"class__courseitem--btn class__courseitem--addtime",onClick:function(){return d(U.addTimeslot(n))},children:Object(u.jsx)("i",{className:"far fa-clock"})}),Object(u.jsx)("button",{type:"button","aria-label":"Discard course",title:"Discard course",className:"class__courseitem--btn class__courseitem--delcourse",onClick:function(){return d(U.deleteCourse(n))},children:Object(u.jsx)("i",{className:"fas fa-trash-alt"})})]})]}),Object(u.jsx)("ul",{className:"class__timeslots",children:j})]})}var je=Object(a.memo)(be);var he=function(){var e=Object(l.c)((function(e){return e.classCourses})),t=[];for(var n in e)if("nextID"!==n){var a=e[n];t.push(Object(u.jsx)(je,{course:a},a.id))}return Object(u.jsx)("ul",{className:"class__list",children:t})};var ge=function(){var e=Object(l.b)();return Object(u.jsxs)("main",{children:[Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Classes \ud83d\udcd6"}),Object(u.jsxs)("p",{className:"main__desc",children:["Add classes here from ",Object(u.jsx)(r.b,{to:"/sections",children:"Sections 2\ufe0f\u20e3"})," page, or ",Object(u.jsx)("strong",{children:"manually add classes yourself using \u2795 button."}),Object(u.jsx)("br",{}),"These classes will appear in your timetable. Go to ",Object(u.jsx)("strong",{children:Object(u.jsx)(r.b,{to:"/generate",children:"Generate 4\ufe0f\u20e3"})})," page to generate your timetable"]}),Object(u.jsx)(he,{})]}),Object(u.jsxs)("div",{className:"class__savingbtn-grp",children:[Object(u.jsx)("button",{type:"button","aria-label":"Save courses into local storage",title:"Save courses into local storage",className:"class__btn class_save-course",onClick:function(){return e(U.saveCoursesToLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-save"})}),Object(u.jsx)("button",{type:"button","aria-label":"Load saved courses from local storage",title:"Load saved courses from local storage",className:"class__btn class__load-course",onClick:function(){return e(U.loadCoursesFromLocalStorage())},children:Object(u.jsx)("i",{className:"fas fa-file-upload"})})]}),Object(u.jsx)("div",{className:"class__addbtn-grp",children:Object(u.jsx)("button",{type:"button","aria-label":"Add new blank course",title:"Add new blank course",className:"class__btn class__add-blank-course",onClick:function(){return e(U.addBlankCourse())},children:Object(u.jsx)("i",{className:"fas fa-plus"})})})]})};function Oe(e){if(null===e)return null;if(!e.isClashing)return Object(u.jsx)("div",{className:"clashcheck__output",children:Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u2705 No Clash Found \u2705"})});var t=Object(f.a)(e.clashDetails,2),n=t[0],a=t[1];return Object(u.jsxs)("div",{className:"clashcheck__output",children:[Object(u.jsx)("strong",{className:"clashcheck__output__title",children:"\u26d4\ufe0f Clash Detected \u26d4\ufe0f"}),Object(u.jsxs)("div",{className:"clashcheck__output__detail",children:["Clash occur between",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(n.courseName,'" on ').concat(z(n.dayOfWeek))}),"and",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:'"'.concat(a.courseName,'" on ').concat(z(a.dayOfWeek))}),"at",Object(u.jsx)("strong",{className:"clashcheck__output__detail--info",children:"".concat(D(n.time)," - ").concat(D(n.time+1))})]})]})}function pe(e,t,n,a){var o=function(e){var t=new Array(7).fill(null);for(var n in t=t.map((function(){return new Array(23).fill(null)})),e)if("nextID"!==n){var a=e[n];for(var o in a.timeslots)if("nextID"!==o)for(var i=a.timeslots[o],c=i.startTime;c<i.endTime;++c){var r={courseName:a.courseName,dayOfWeek:i.dayOfWeek,time:c};if(t[i.dayOfWeek][c])return{isClashing:!0,clashDetails:[r,t[i.dayOfWeek][c]]};t[i.dayOfWeek][c]=r}}return{isClashing:!1,clashDetails:null}}(e);t(o),o.isClashing?(a(S({type:"danger",message:"There is a clash in your timetable. Go back to Classes page to fix the clash."})),a(y())):(n(1),P(".configure"))}var xe=function(e){var t=Object(l.c)((function(e){return e.classCourses})),n=e.setState,o=Object(a.useState)(null),i=Object(f.a)(o,2),c=i[0],r=i[1],s=Object(l.b)();return Object(u.jsxs)("section",{className:"generate__section clashcheck",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 1: Clash Check \ud83d\udca3"}),Object(u.jsx)("p",{className:"generate__desc",children:"Check your timetable for any clashes"}),Object(u.jsx)("button",{className:"clashcheck__btn",type:"button","aria-label":"Trigger check the timetable for clashes",label:"Trigger check the timetable for clashes",disabled:null!==c,onClick:function(){return pe(t,r,n,s)},children:"Check Clash"}),Oe(c)]})},ve=n(76),_e=n.n(ve),Ce=["Roboto","Orbitron","Grandstander","Marvel","Cantora One"];Ce.forEach((function(e){new _e.a(e).load().then((function(){console.log("Loaded webfont ".concat(e))})).catch((function(t){console.log("Failed loading webfont ".concat(e))}))}));var ye=Object(p.c)({name:"config",initialState:{general:{theme:"default",orientation:"horizontal",weekends:"fri/sat",timeframeBegin:8,timeframeEnd:17},grid:{gridWidth:250,gridHeight:200,gap:5,courseNameFontSize:25,venueFontSize:20,lecturerNameFontSize:18,courseCodeFontSize:16},custom:{isCustom:!1,backgroundColor:"#ffffff",fontFamily:"Roboto",labelGridColor:"#7f8082",labelGridFontColor:"#ffffff",timeGridColor:"#70ad46",timeGridFontColor:"#ffffff",evenRowColor:"#c6e0b3",oddRowColor:"#a9d08f",courseColors:{},defaultCustomCourseColors:{fontColor:"#ffffff",backgroundColor:"#3498db"}}},reducers:{setTheme:function(e,t){e.general.theme=t.payload,e.custom.isCustom="custom"===t.payload},setOrientation:function(e,t){e.general.orientation=t.payload},setWeekends:function(e,t){e.general.weekends=t.payload},setTimeframeBegin:function(e,t){e.general.timeframeBegin=Number(t.payload),e.general.timeframeEnd=Math.max(Number(t.payload)+1,e.general.timeframeEnd)},setTimeframeEnd:function(e,t){e.general.timeframeEnd=Number(t.payload)},setGridWidth:function(e,t){e.grid.gridWidth=Math.max(0,Number(t.payload))},setGridHeight:function(e,t){e.grid.gridHeight=Math.max(0,Number(t.payload))},setGap:function(e,t){e.grid.gap=Math.max(0,Number(t.payload))},setCourseNameFontSize:function(e,t){e.grid.courseNameFontSize=Math.max(0,Number(t.payload))},setVenueFontSize:function(e,t){e.grid.venueFontSize=Math.max(0,Number(t.payload))},setLecturerNameFontSize:function(e,t){e.grid.lecturerNameFontSize=Math.max(0,Number(t.payload))},setCourseCodeFontSize:function(e,t){e.grid.courseCodeFontSize=Math.max(0,Number(t.payload))},modifyCustomConfiguration:function(e,t){e.custom=Object.assign({},e.custom,t.payload)},changeCourseBackgroundColor:function(e,t){var n=t.payload,a=n.id,o=n.color;e.custom.courseColors[a]&&(e.custom.courseColors[a].backgroundColor=o)},changeCourseFontColor:function(e,t){var n=t.payload,a=n.id,o=n.color;e.custom.courseColors[a]&&(e.custom.courseColors[a].fontColor=o)}}}),Ne=Object(O.a)({},ye.actions),Se=ye.reducer;var we=function(){var e=Object(l.c)((function(e){return e.config.general})),t=e.theme,n=e.orientation,a=e.weekends,o=e.timeframeBegin,i=e.timeframeEnd,c=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"General Configurations"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsxs)("span",{className:"configure__itemtitle",children:["Theme \ud83c\udfa8",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("a",{href:"https://raw.githubusercontent.com/AdmiJW/UTM-Timetable-Generator-V2/master/public/img/themes.jpg",target:"_blank",style:{fontSize:"0.75em",color:"#fff"},children:"View Differences"})]}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the theme for the timetable generated",value:t,onChange:function(e){return c(Ne.setTheme(e.target.value))},children:[Object(u.jsx)("option",{value:"default",children:"Default"}),Object(u.jsx)("option",{value:"futuristic",children:"Futuristic"}),Object(u.jsx)("option",{value:"cuteness",children:"Cuteness"}),Object(u.jsx)("option",{value:"spidey",children:"Spidey"}),Object(u.jsx)("option",{value:"nature",children:"Nature"}),Object(u.jsx)("option",{value:"custom",children:"Custom"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Orientation \ud83d\udd0d"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select timetable orientation",title:"Select timetable orientation",value:n,onChange:function(e){return c(Ne.setOrientation(e.target.value))},children:[Object(u.jsx)("option",{value:"horizontal",children:"Horizontal"}),Object(u.jsx)("option",{value:"vertical",children:"Vertical"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Weekends \ud83d\udcc6"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select to exclude/include the weekends on timetable",title:"Select to exclude/include the weekends on timetable",value:a,onChange:function(e){return c(Ne.setWeekends(e.target.value))},children:[Object(u.jsx)("option",{value:"fri/sat",children:"Hide Fri/Sat"}),Object(u.jsx)("option",{value:"sat/sun",children:"Hide Sat/Sun"}),Object(u.jsx)("option",{value:"all",children:"i want all"})]})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Visible Timeframe \u231a\ufe0f"}),Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the starting timeframe for the timetable generated",title:"Select the starting timeframe for the timetable generated",value:o,onChange:function(e){return c(Ne.setTimeframeBegin(e.target.value))},children:[Object(u.jsx)("option",{value:"8",children:"02 (8:00 AM)"}),Object(u.jsx)("option",{value:"9",children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",children:"13 (7:00 PM)"})]}),"to",Object(u.jsxs)("select",{className:"configure__iteminput","aria-label":"Select the ending timeframe for the timetable generated",title:"Select the ending timeframe for the timetable generated",value:i,onChange:function(e){return c(Ne.setTimeframeEnd(e.target.value))},children:[Object(u.jsx)("option",{value:"9",disabled:o>8,children:"03 (9:00 AM)"}),Object(u.jsx)("option",{value:"10",disabled:o>9,children:"04 (10:00 AM)"}),Object(u.jsx)("option",{value:"11",disabled:o>10,children:"05 (11:00 AM)"}),Object(u.jsx)("option",{value:"12",disabled:o>11,children:"06 (12:00 AM)"}),Object(u.jsx)("option",{value:"13",disabled:o>12,children:"07 (1:00 PM)"}),Object(u.jsx)("option",{value:"14",disabled:o>13,children:"08 (2:00 PM)"}),Object(u.jsx)("option",{value:"15",disabled:o>14,children:"09 (3:00 PM)"}),Object(u.jsx)("option",{value:"16",disabled:o>15,children:"10 (4:00 PM)"}),Object(u.jsx)("option",{value:"17",disabled:o>16,children:"11 (5:00 PM)"}),Object(u.jsx)("option",{value:"18",disabled:o>17,children:"12 (6:00 PM)"}),Object(u.jsx)("option",{value:"19",disabled:o>18,children:"13 (7:00 PM)"}),Object(u.jsx)("option",{value:"20",disabled:o>19,children:"14 (8:00 PM)"})]})]})]})]})};var ke=function(){var e=Object(l.c)((function(e){return e.config.grid})),t=e.gridWidth,n=e.gridHeight,a=e.courseNameFontSize,o=e.venueFontSize,i=e.lecturerNameFontSize,c=e.courseCodeFontSize,r=e.gap,s=Object(l.b)();return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Grid Configurations \ud83d\udcd0"}),Object(u.jsx)("img",{alt:"guide to customization timetable",src:"./img/grid_guide.jpg",className:"configure__guidepic"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Width"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the width for each grid in timetable",title:"Select the width for each grid in timetable",value:t,onChange:function(e){return s(Ne.setGridWidth(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Height"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the height for each grid in timetable",title:"Select the height for each grid in timetable",value:n,onChange:function(e){return s(Ne.setGridHeight(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Grid Gap"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the gap size (spacing between grids) in timetable",title:"Select the gap size (spacing between grids) in timetable",value:r,onChange:function(e){return s(Ne.setGap(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course names in timetable",title:"Select the font size for course names in timetable",value:a,onChange:function(e){return s(Ne.setCourseNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Venue Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for venue in timetable",title:"Select the font size for venue in timetable",value:o,onChange:function(e){return s(Ne.setVenueFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Lecturer Name Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for lecturer name in timetable",title:"Select the font size for lecturer name in timetable",value:i,onChange:function(e){return s(Ne.setLecturerNameFontSize(e.target.value))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Course Code Font Size"}),Object(u.jsx)("input",{type:"number",min:"0",step:"1",className:"configure__iteminput","aria-label":"Select the font size for course code in timetable",title:"Select the font size for course code in timetable",value:c,onChange:function(e){return s(Ne.setCourseCodeFontSize(e.target.value))}})]})]})]})};var Fe=function(){var e=Object(l.c)((function(e){return e.config.custom})),t=Object(l.c)((function(e){return e.classCourses})),n=Object(l.b)(),o=e.defaultCustomCourseColors;if(Object(a.useEffect)((function(){var e={};Object.values(t).forEach((function(t){"object"===typeof t&&(e[t.id]=Object(O.a)({id:t.id,name:t.courseName},o))})),n(Ne.modifyCustomConfiguration({courseColors:e}))}),[n,t,o]),!e.isCustom)return Object(u.jsx)(a.Fragment,{});var i=Object.values(e.courseColors).map((function(e){return Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("strong",{className:"configure__itemtitle configure__coursename",children:e.name}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(t){return n(Ne.changeCourseBackgroundColor({id:e.id,color:t.target.value}))}}),Object(u.jsx)("small",{className:"configure__itemtitle",children:"Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select font color",title:"Select font color",value:e.fontColor,onChange:function(t){return n(Ne.changeCourseFontColor({id:e.id,color:t.target.value}))}})]},e.id)}));return Object(u.jsxs)("section",{className:"configure__section",children:[Object(u.jsx)("h4",{className:"configure__grptitle",children:"Customization \ud83e\uddd0"}),Object(u.jsx)("img",{alt:"guide to customization timetable",src:"./img/custom_guide.png",className:"configure__guidepic"}),Object(u.jsxs)("ul",{className:"configure__grp",children:[Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Background Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select background color",title:"Select background color",value:e.backgroundColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({backgroundColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Font"}),Object(u.jsx)("select",{className:"configure__iteminput","aria-label":"Select font style for timetable",title:"Select font style for timetable",value:e.fontFamily,onChange:function(e){return n(Ne.modifyCustomConfiguration({fontFamily:e.target.value}))},children:Ce.map((function(e){return Object(u.jsx)("option",{value:e,children:e},e)}))})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Color",title:"Select Label Grid Color",value:e.labelGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid Color",title:"Select Timegrid Color",value:e.timeGridColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Label Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Label Grid Font Color",title:"Select Label Grid Font Color",value:e.labelGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({labelGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Time Grid Font Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select Timegrid font color 2",title:"Select Timegrid font color 2",value:e.timeGridFontColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({timeGridFontColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Odd Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select odd row colors",title:"Select odd row colors",value:e.oddRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({oddRowColor:e.target.value}))}})]}),Object(u.jsxs)("li",{className:"configure__item",children:[Object(u.jsx)("span",{className:"configure__itemtitle",children:"Even Row Color"}),Object(u.jsx)("input",{type:"color",className:"configure__iteminput","aria-label":"Select even row colors",title:"Select even row colors",value:e.evenRowColor,onChange:function(e){return n(Ne.modifyCustomConfiguration({evenRowColor:e.target.value}))}})]})]}),Object(u.jsx)("ul",{className:"configure__grp",children:i})]})};function Te(e){e(2),P(".creation")}var Me=function(e){var t=e.setState;return Object(u.jsxs)("section",{className:"generate__section configure",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 2: Configurations \u2699\ufe0f"}),Object(u.jsx)("p",{className:"generate__desc",children:"Try changing the theme, and set how the timetable is rendered."}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3 - Generate Timetable",title:"Proceed to Step 3 - Create Timetable",className:"configure__btn configure__btnskip",onClick:function(){return Te(t)},children:"Skip \ud83d\udca8"}),Object(u.jsx)(we,{}),Object(u.jsx)(ke,{}),Object(u.jsx)(Fe,{}),Object(u.jsx)("button",{type:"button","aria-label":"Proceed to Step 3",title:"Proceed to Step 3",className:"configure__btn configure__btnproceed",onClick:function(){return Te(t)},children:"Proceed \ud83d\udcaa"})]})},Ge={default:{theme:"default",backgroundColor:"#ffffff",labelGridColor:"#7f8082",timeGridColor:"#70ad46",oddRowColor:"#c6e0b3",evenRowColor:"#a9d08f",fontFamily:"Roboto",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#3498db","#6ab04c","#e74c3c","#9b59b6","#34495e","#f1c40f","#3a40b6","#2ecc71","#e67e22","#686de0"],courseFontColors:["#ffffff"]},futuristic:{theme:"futuristic",backgroundColor:"#2ecc71",labelGridColor:"#000000",timeGridColor:"#000000",oddRowColor:"#1b242e",evenRowColor:"#212d3b",fontFamily:"Orbitron",labelGridFontColor:"#29e679",timeGridFontColor:"#29e679",courseBackgroundColors:["#000000"],courseFontColors:["#29e679"]},cuteness:{theme:"cuteness",backgroundColor:"#ffffff",labelGridColor:"#ff7199",timeGridColor:"#ff7199",oddRowColor:"#ffbada",evenRowColor:"#ffe2ea",fontFamily:"Grandstander",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#ff90c3"],courseFontColors:["#ffffff"]},spidey:{theme:"spidey",backgroundColor:"#cccee3",labelGridColor:"#0861a3",timeGridColor:"#0268d7",oddRowColor:"#ca141d",evenRowColor:"#b31219",fontFamily:"Marvel",labelGridFontColor:"#ffffff",timeGridFontColor:"#ffffff",courseBackgroundColors:["#8f0505"],courseFontColors:["#ffffff"]},nature:{theme:"nature",backgroundColor:"#392c1d",labelGridColor:"#55422b",timeGridColor:"#907a48",oddRowColor:"#4f6336",evenRowColor:"#4b6b3c",fontFamily:"Cantora One",labelGridFontColor:"#e6deb9",timeGridFontColor:"#3b2e1e",courseBackgroundColors:["#d4bf88"],courseFontColors:["#3b2e1e"]}};function ze(e,t){return t.isCustom?function(e,t){var n=[];for(var a in e)if(!isNaN(a)){var o=e[a],i=o.id,c=o.courseName,r=o.lecturerName,s=o.courseCode,l=t.courseColors[i]||t.defaultCustomCourseColors,u=l.fontColor,d=l.backgroundColor;for(var m in o.timeslots)if(!isNaN(m)){var f=o.timeslots[m],b=f.dayOfWeek,j=f.startTime,h=f.endTime,g=f.venue;n.push({name:c,lecturer:r,code:s,dayOfWeek:b,startTime:j,endTime:h,venue:g,theme:"custom",backgroundColor:d,fontColor:u})}}return n}(e,t):function(e,t){var n=[],a=0,o=t.theme,i=t.courseBackgroundColors,c=t.courseFontColors;for(var r in e)if(!isNaN(r)){var s=e[r],l=s.courseName,u=s.lecturerName,d=s.courseCode;for(var m in s.timeslots)if(!isNaN(m)){var f=s.timeslots[m],b=f.dayOfWeek,j=f.startTime,h=f.endTime,g=f.venue;n.push({name:l,lecturer:u,code:d,dayOfWeek:b,startTime:j,endTime:h,venue:g,theme:o,backgroundColor:i[a%i.length],fontColor:c[a%c.length]})}++a}return n}(e,t)}var De=n(21);function We(e,t){e.add(new De.a.Rect(Object(O.a)({preventDefault:!1},t)))}function Pe(e,t){e.add(new De.a.Text(Object(O.a)({preventDefault:!1,align:"center",verticalAlign:"middle"},t)))}function Ie(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=e.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,c=t.oddRowColor,r=t.evenRowColor,s=t.backgroundColor,l=25*a+26*i,u=8*o+9*i,d=new De.a.Layer;We(d,{fill:s,width:l,height:u});for(var m=0;m<8;++m)for(var f=0;f<25;++f)We(d,{fill:1&m?c:r,width:a,height:o,x:i+(a+i)*f,y:i+(o+i)*m});return d}(e,t):function(e,t){var n=e.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,c=t.oddRowColor,r=t.evenRowColor,s=t.backgroundColor,l=8*a+9*i,u=25*o+26*i,d=new De.a.Layer;We(d,{fill:s,width:l,height:u});for(var m=0;m<25;++m)for(var f=0;f<8;++f)We(d,{fill:1&f?c:r,width:a,height:o,x:i+(a+i)*f,y:i+(o+i)*m});return d}(e,t)}function Ae(e,t){return"horizontal"===e.general.orientation?function(e,t){var n=new De.a.Layer;return function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+r)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==o)&&(5!==n||"fri/sat"!==o)&&(6!==n||"all"===o)){var a=l+(l+s)*(n+1);We(e,{fill:d,x:b,y:a,width:r,height:s}),Pe(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:b,y:a,width:r,height:s})}}))}(n,e,t),function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,j="sat/sun"===o?l+s+l:l,h=l+(r+l)*i;We(e,{x:h,y:j,width:r,height:s,fill:d});var g=j+s/2+l/2,O=s/2-l/2;We(e,{fill:m,x:h,y:j,width:r,height:O}),Pe(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:j,width:r,height:O}),We(e,{fill:m,x:h,y:g,width:r,height:O}),Pe(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:h,y:g,width:r,height:O})}(n,e,t),function(e,t,n){for(var a=t.general,o=a.weekends,i=a.timeframeBegin,c=a.timeframeEnd,r=t.grid,s=r.gridWidth,l=r.gridHeight,u=r.gap,d=r.courseNameFontSize,m=n.backgroundColor,f=n.timeGridColor,b=n.timeGridFontColor,j=n.fontFamily,h=.75*d,g="sat/sun"===o?2*u+l:u,O=g+l/2+u/2,p=l/2-u/2,x=i;x<c;++x){var v=u+(x+1)*(u+s);We(e,{fill:m,x:v,y:g,height:l,width:s}),We(e,{fill:f,x:v,y:g,height:p,width:s}),Pe(e,{text:"".concat(D(x),"\n").concat(D(x+1)),fontFamily:j,fontSize:h,fill:b,x:v,y:g,height:p,width:s,lineHeight:1.6}),We(e,{fill:f,x:v,y:O,height:p,width:s}),Pe(e,{text:"".concat(W(x)),fontFamily:j,fontSize:d,fontStyle:"bold",fill:b,x:v,y:O,height:p,width:s})}}(n,e,t),n}(e,t):function(e,t){var n=new De.a.Layer;return function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.timeGridColor,m=n.timeGridFontColor,f=n.fontFamily,b=l+(l+s)*i;["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].forEach((function(t,n){if((0!==n||"sat/sun"!==o)&&(5!==n||"fri/sat"!==o)&&(6!==n||"all"===o)){var a=l+(l+r)*(n+1);We(e,{fill:d,x:a,y:b,width:r,height:s}),Pe(e,{fontFamily:f,fontSize:u,fontStyle:"bold",fill:m,text:t,x:a,y:b,width:r,height:s})}}))}(n,e,t),function(e,t,n){var a=t.general,o=a.weekends,i=a.timeframeBegin,c=t.grid,r=c.gridWidth,s=c.gridHeight,l=c.gap,u=c.courseNameFontSize,d=n.backgroundColor,m=n.labelGridColor,f=n.labelGridFontColor,b=n.fontFamily,j="sat/sun"===o?l+r+l:l,h=l+(s+l)*i;We(e,{x:j,y:h,width:r,height:s,fill:d});var g=h+s/2+l/2,O=s/2-l/2;We(e,{fill:m,x:j,y:h,width:r,height:O}),Pe(e,{text:"Day of Week",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:h,width:r,height:O}),We(e,{fill:m,x:j,y:g,width:r,height:O}),Pe(e,{text:"Time",fontFamily:b,fontSize:u,fontStyle:"bold",fill:f,x:j,y:g,width:r,height:O})}(n,e,t),function(e,t,n){for(var a=t.general,o=a.weekends,i=a.timeframeBegin,c=a.timeframeEnd,r=t.grid,s=r.gridWidth,l=r.gridHeight,u=r.gap,d=r.courseNameFontSize,m=n.timeGridColor,f=n.timeGridFontColor,b=n.fontFamily,j=.75*d,h="sat/sun"===o?2*u+s:u,g=.25*l,O=i;O<c;++O){var p=u+(O+1)*(u+l),x=p+.75*l;We(e,{fill:m,x:h,y:p,height:l,width:s}),Pe(e,{text:"".concat(D(O),"\n").concat(D(O+1)),fontFamily:b,fontSize:j,fill:f,x:h,y:p,height:l-g,width:s,lineHeight:1.6}),Pe(e,{text:"".concat(W(O)),fontFamily:b,fontSize:d,fontStyle:"bold",fill:f,x:h,y:x,height:g,width:s})}}(n,e,t),n}(e,t)}var Ee=n(45);function Le(e,t,n){return"horizontal"===e.general.orientation?function(e,t,n){var a,o=new De.a.Layer,i=e.grid,c=i.gridWidth,r=i.gridHeight,s=i.gap,l=Object(Ee.a)(n);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=u.dayOfWeek,m=u.startTime;Re(o,u,t,e,s+(m+1)*(s+c),s+(d+1)*(s+r),(u.endTime-m)*(c+s)-s,r)}}catch(f){l.e(f)}finally{l.f()}return o}(e,t,n):function(e,t,n){var a,o=new De.a.Layer,i=e.grid,c=i.gridWidth,r=i.gridHeight,s=i.gap,l=Object(Ee.a)(n);try{for(l.s();!(a=l.n()).done;){var u=a.value,d=u.dayOfWeek,m=u.startTime;Re(o,u,t,e,s+(d+1)*(s+c),s+(m+1)*(s+r),c,(u.endTime-m)*(r+s)-s)}}catch(f){l.e(f)}finally{l.f()}return o}(e,t,n)}function Re(e,t,n,a,o,i,c,r){var s=t.lecturer&&t.code?[.6,.2,.2]:t.lecturer?[.75,.25,0]:t.code?[.8,0,.2]:[1,0,0],l=a.grid,u=l.courseNameFontSize,d=l.lecturerNameFontSize,m=l.courseCodeFontSize,f=l.venueFontSize,b=r*(s[0]-(t.venue?.15:0)),j=r*(t.venue?.15:0),h=r*s[1],g=r*s[2];We(e,{x:o,y:i,width:c,height:r,fill:t.backgroundColor}),Pe(e,{x:o,y:i,width:c,height:b,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:u,text:t.name,fontStyle:"bold"}),Pe(e,{x:o,y:i+b,width:c,height:j,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:f,text:t.venue,fontStyle:"bold"}),Pe(e,{x:o,y:i+b+j,width:c,height:h,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:d,text:t.lecturer}),Pe(e,{x:o,y:i+b+j+h,width:c,height:g,fill:t.fontColor,fontFamily:n.fontFamily,fontSize:m,text:t.code})}function Be(e,t,n){var a=document.createElement("div"),o=function(e){return"custom"===e.general.theme?e.custom:Ge[e.general.theme]}(n),i=ze(t,o),c=function(e,t){var n=t.general.orientation,a=t.grid,o=a.gridWidth,i=a.gridHeight,c=a.gap;if("horizontal"===n){var r=25*o+26*c,s=8*i+9*c;return new De.a.Stage({container:e,width:r,height:s})}var l=8*o+9*c,u=25*i+26*c;return new De.a.Stage({container:e,width:l,height:u})}(a,n);c.add(Ie(n,o)),c.add(Ae(n,o)),c.add(Le(n,o,i));var r=function(e,t){return"horizontal"===t.general.orientation?function(e,t){var n=t.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,c=t.general,r=c.weekends,s=c.timeframeBegin,l="sat/sun"===r?i+o:0,u="all"===r?8*o+9*i:6*o+7*i,d=(i+a)*s,m=i+(c.timeframeEnd-s+1)*(a+i);return e.toDataURL({x:d,y:l,width:m,height:u})}(e,t):function(e,t){var n=t.grid,a=n.gridWidth,o=n.gridHeight,i=n.gap,c=t.general,r=c.weekends,s=c.timeframeBegin,l="sat/sun"===r?i+a:0,u="all"===r?8*a+9*i:6*a+7*i,d=(i+o)*s,m=i+(c.timeframeEnd-s+1)*(o+i);return e.toDataURL({x:l,y:d,width:u,height:m})}(e,t)}(c,n);e.src=r}var He=function(){var e=Object(l.c)((function(e){return e.config})),t=Object(l.c)((function(e){return e.classCourses})),n=Object(a.useState)(!1),o=Object(f.a)(n,2),i=o[0],c=o[1],r=Object(a.useRef)(null);return Object(u.jsxs)("section",{className:"generate__section creation",children:[Object(u.jsx)("h4",{className:"generate__title",children:"Step 3: Rendering \ud83c\udf87"}),Object(u.jsx)("p",{className:"generate__desc",children:"You will experience a minor lag (It's normal)"}),Object(u.jsxs)("div",{className:"creation__btngrp",children:[Object(u.jsx)("button",{className:"creation__btn creation__create",type:"button","aria-label":"Create timetable",title:"Create timetable",onClick:function(){return function(e,t,n,a){e(!0),Be(t.current,n,a),P(".creation")}(c,r,t,e)},children:"Create"}),i?Object(u.jsx)("button",{className:"creation__btn creation__png",type:"button","aria-label":"Download timetable as png image",title:"Download timetable as png image",onClick:function(){return function(e){var t=document.createElement("a");t.href=e.current.src,t.download="timetable.png",t.click()}(r)},children:"Download png"}):null,i?Object(u.jsx)("button",{className:"creation__btn creation__newtab",type:"button","aria-label":"Open timetable in new tab",title:"Open timetable in new tab",onClick:function(){return function(e){var t=window.open("");t.document.write(e.current.outerHTML),t.document.close()}(r)},children:"Open in new tab"}):null]}),Object(u.jsx)("div",{className:"creation__view",children:Object(u.jsx)("img",{className:"creation__img",alt:"generated timetable",id:"timetable-img",ref:r,style:i?null:{display:"none"}})})]})};var Je=function(){var e=Object(a.useState)(0),t=Object(f.a)(e,2),n=t[0],o=t[1];return Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Generate Timetable \ud83c\udfed"}),Object(u.jsx)("p",{className:"main__desc",children:"Here, you check clashes, customize, and finally generate your timetable"}),n>=0?Object(u.jsx)(xe,{setState:o}):null,n>=1?Object(u.jsx)(Me,{setState:o}):null,n>=2?Object(u.jsx)(He,{}):null]})})};var Ve=function(){var e=Object(a.useState)([""]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(0),c=Object(f.a)(i,2),r=c[0],s=c[1],d=Object(l.b)();return Object(a.useEffect)((function(){d(ae()),d(se()),fetch("./data/tutorial.json").then((function(e){return e.json()})).then((function(e){return Promise.all(Object(Z.a)(e.map((function(e){return fetch(e)}))))})).then((function(e){return Promise.all(Object(Z.a)(e.map((function(e){return e.text()}))))})).then((function(e){return o(e)})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),d(S({type:"danger",message:"Error occurred while fetching tutorials. See console for more info"})),d(y())})).finally((function(){d(oe()),d(le())}))}),[d]),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Tutorial \ud83d\udcda"}),Object(u.jsxs)("div",{className:"tutorial__btngrp",children:[Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__prev",onClick:function(){return s(Math.max(0,r-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-left"})}),"Page ",r+1," of ",n.length,Object(u.jsx)("button",{type:"button",className:"tutorial__btn tutorial__next",onClick:function(){return s(Math.min(r+1,n.length-1))},children:Object(u.jsx)("i",{className:"fas fa-angle-right"})})]}),Object(u.jsx)($.a,{className:"tutorial__markdown",children:n[r],rehypePlugins:[ee.a]})]})})};function Ue(e){var t=e.course,n=Object(l.b)();return Object(u.jsxs)("li",{className:"catalog--item",children:[Object(u.jsx)("h4",{className:"catalog--item--name",children:t.name}),Object(u.jsx)("p",{className:"catalog--item--code",children:t.code}),Object(u.jsx)("button",{className:"catalog--item--addtocart",onClick:function(){return function(e,t){e(_.addCourseToSections(t)),e(S({type:"success",message:'Successfully added "'.concat(t.name,'" - ').concat(t.code," into Sections 2\ufe0f\u20e3!")})),e(y())}(n,t)},children:Object(u.jsx)("i",{className:"fas fa-plus"})})]})}var qe=Object(a.memo)(Ue);var Ye=function(e){var t=e.url,n=Object(l.b)(),o=Object(a.useState)(""),i=Object(f.a)(o,2),c=i[0],r=i[1],s=Object(a.useState)({}),d=Object(f.a)(s,2),m=d[0],b=d[1],j=Object(a.useState)([]),h=Object(f.a)(j,2),g=h[0],O=h[1];return Object(a.useEffect)((function(){n(ae()),n(se()),fetch(t).then((function(e){return e.json()})).then((function(e){b(e),n(S({type:"success",message:"Succesfully fetched ".concat(Object.keys(e).length," course(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),n(S({type:"danger",message:"Error occurred while fetching courses. See console for more info"}))})).finally((function(){n(y()),n(oe()),n(le())}))}),[t,n]),Object(a.useEffect)((function(){var e=[],t=new RegExp(c,"gi");for(var n in m){var a=m[n];(""===c||a.name.match(t)||a.code.match(t))&&e.push(Object(u.jsx)(qe,{course:a},n))}O(e)}),[c,m]),Object(u.jsxs)("div",{className:"catalog",children:[Object(u.jsx)("h4",{className:"courses--title",children:"Step 2: Select Courses"}),Object(u.jsx)("input",{type:"text","aria-label":"search/filter bar",value:c,className:"catalog--search",placeholder:"Search...",onChange:function(e){return r(e.target.value)}}),Object(u.jsx)("ul",{className:"catalog--list",children:g})]})};var Xe=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=t[1],i=Object(a.useState)(""),c=Object(f.a)(i,2),s=c[0],d=c[1],m=Object(l.b)();return Object(a.useEffect)((function(){m(ae()),m(se()),fetch("./data/school_list.json").then((function(e){return e.json()})).then((function(e){e=e.sort((function(e,t){return e.name<t.name?-1:1})),o(e),m(S({type:"success",message:"Succesfully fetched ".concat(e.length," school(s)")}))})).catch((function(e){"Unexpected token < in JSON at position 0"===e.message&&console.error("JSON parsing failed. Most likely the resource is not found and responded with 404 not found page. See Network tab in devtools for verification"),console.error(e),m(S({type:"danger",message:"Error occurred while fetching list of schools. See console for more info"}))})).finally((function(){m(y()),m(oe()),m(le())}))}),[m]),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper courses",children:[Object(u.jsx)("h2",{className:"main__title",children:"UTM Courses \ud83d\udcda"}),Object(u.jsxs)("p",{className:"main__desc",children:["Select from readily available UTM courses, which you can choose your section later in ",Object(u.jsx)("strong",{children:Object(u.jsx)(r.b,{to:"/sections",children:"Sections 2\ufe0f\u20e3"})})," page",Object(u.jsx)("br",{}),Object(u.jsx)("br",{}),Object(u.jsx)("span",{style:{color:"Red"},children:"You are advised to check with the actual timetable, in case of any mistakes in the course information."}),Object(u.jsx)("br",{}),Object(u.jsx)("small",{style:{color:"#ccc",fontSize:"0.75em"},children:"Please don't sue me if you missed your class due to this"})]}),Object(u.jsx)("h4",{className:"courses--title",children:"Step 1: Select School/Faculty"}),Object(u.jsxs)("select",{"aria-label":"Select school/faculty",value:s,className:"courses--select",onChange:function(e){return d(e.target.value)},children:[Object(u.jsx)("option",{disabled:!0,value:"",children:" -- Select an option -- "}),n.map((function(e){return Object(u.jsx)("option",{value:e.url,children:e.name},e.name)}))]}),""!==s?Object(u.jsx)(Ye,{url:s}):null]})})};var Ke=function(){var e=Object(a.useState)([]),t=Object(f.a)(e,2),n=t[0],o=(t[1],Object(l.b)());return Object(a.useEffect)((function(){o(ae()),o(se()),Promise.resolve(null).finally((function(){o(oe()),o(le())}))}),[o]),n.map((function(e,t){return Object(u.jsx)("article",{className:"announcement",children:Object(u.jsx)($.a,{className:"announcement--content",children:e,rehypePlugins:[ee.a]})},t)})),Object(u.jsx)("main",{children:Object(u.jsxs)("div",{className:"main--scrollable-wrapper",children:[Object(u.jsx)("h2",{className:"main__title",children:"Where is my class? \ud83d\udccd"}),Object(u.jsxs)("div",{className:"venue__content",children:[Object(u.jsx)("a",{href:"https://docs.google.com/spreadsheets/d/1FshgzjmWjtTXtJ7Y-WB-bJNlHll6mtT-/edit#gid=458999819",target:"_blank",rel:"noreferrer",className:"venue__button",children:"Open Excel File"}),Object(u.jsx)("div",{className:"venue__main",children:"Not yet implemented... \ud83d\udea7"})]})]})})};var Qe=function(){var e=Object(l.b)();return Object(a.useEffect)((function(){e(S({type:"primary",message:"Welcome! If you are new here, you can click tutorial button on top-right corner!"})),e(y())}),[e]),Object(u.jsxs)(r.a,{children:[Object(u.jsx)(m,{}),Object(u.jsx)(d,{}),Object(u.jsx)(b,{}),Object(u.jsxs)("div",{className:"min-height-screen-height",children:[Object(u.jsx)(j,{}),Object(u.jsx)(h,{}),Object(u.jsxs)(s.c,{children:[Object(u.jsx)(s.a,{path:"/courses",children:Object(u.jsx)(Xe,{})}),Object(u.jsx)(s.a,{path:"/sections",children:Object(u.jsx)(Q,{})}),Object(u.jsx)(s.a,{path:"/classes",children:Object(u.jsx)(ge,{})}),Object(u.jsx)(s.a,{path:"/generate",children:Object(u.jsx)(Je,{})}),Object(u.jsx)(s.a,{path:"/tutorial",children:Object(u.jsx)(Ve,{})}),Object(u.jsx)(s.a,{path:"/venue",children:Object(u.jsx)(Ke,{})}),Object(u.jsx)(s.a,{path:"/",children:Object(u.jsx)(de,{})})]})]}),Object(u.jsx)(g,{})]})},Ze=Object(p.a)({reducer:{balloon:w,blindfold_showing:ie,loadingScreen_showing:ue,config:Se,classCourses:q,sections:C}});n(114);c.a.render(Object(u.jsx)(o.a.StrictMode,{children:Object(u.jsx)(l.a,{store:Ze,children:Object(u.jsx)(Qe,{})})}),document.getElementById("root"))}},[[115,1,2]]]);
//# sourceMappingURL=main.7ded296a.chunk.js.map